!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://static.parastorage.com/services/workflow-web/1.857.0/",n(n.s=620)}({1:function(t,e){t.exports=React},100:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=n(108),i=n(203),s=n(109),a=n(204),u=n(205),c=n(206),f=n(207),l=n(208),p=function(){function t(t){void 0===t&&(t={});var e=u.getGlobalDefaults();this.useNewApi=void 0!==t.useNewApi?t.useNewApi:e.useNewApi||!1,this.experiments=t.experiments||{},this.loaders=new Map,this.baseUrl=f.baseUrl(this.useNewApi,t.baseUrl),this.requestContext=t.requestContext||l.getGlobalRequestContext(e),t.scope&&this.load(t.scope)}return t.prototype.add=function(t){this.experiments=r.__assign(r.__assign({},this.experiments),t)},t.prototype.get=function(t){return this.experiments[t]},t.prototype.enabled=function(t){return"true"===this.get(t)},t.prototype.all=function(){return this.experiments},t.prototype._addLoader=function(t,e){var n=this;return this.loaders.set(t,e),e.then((function(){n.loaders.delete(t)})),e},t.prototype._getUrlWithFallback=function(t,e){var n=i.getCacheInstance().getUrlResponse(t);if(void 0!==n)return Promise.resolve(n);var r=this.loaders.get(t);return void 0!==r?r:a.httpRequest(t).then((function(e){return i.getCacheInstance().addUrlResponse(t,e),e})).catch((function(){return e}))},t.prototype.load=function(t){var e=this,n=o.getAllInScopePath(t,this.useNewApi),r=this.useNewApi?c.getRequestContextQuery(this.requestContext):"",i=""+this.baseUrl+n+r,a=this._getUrlWithFallback(i,{}).then(s.tryParse).then((function(t){return e.useNewApi?t.values:t})).then((function(t){return e.add(t)}));return this._addLoader(i,a)},t.prototype.conduct=function(t,e){var n,r=this,s=i.getCacheInstance().getExperimentValue(t,this.useNewApi);if(void 0!==s)return this.add(((n={})[t]=s,n)),Promise.resolve(s);var a=o.getExperimentPath(t,e,this.useNewApi),u=this.useNewApi?c.getRequestContextQuery(this.requestContext):"",f=""+this.baseUrl+a+u,l=this._getUrlWithFallback(f,e).then((function(e){var n,o=r.useNewApi?JSON.parse(e).value:e;return r.add(((n={})[t]=o,n)),o}));return this._addLoader(f,l)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t}();e.default=p},105:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return!["development","test"].includes("production")}},106:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var r=n(150),o=n.n(r),i=n(16),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(){function t(t,e){this.axiosClient=t,e&&this.axiosClient.interceptors.response.use((function(t){return t}),(function(t){return e(t)}))}return t.prototype.get=function(t,e){return void 0===e&&(e={}),this.axiosClient.get(t,s(s({},e),u()))},t.prototype.post=function(t,e){return this.axiosClient.post(t,e,u())},t.prototype.patch=function(t,e){return this.axiosClient.patch(t,e,u())},t.prototype.delete=function(t){return this.axiosClient.delete(t,u())},t}(),u=function(){return{headers:{Authorization:Object(i.getCurrentInstance)(i.appDefIds.workflow)}}},c=function(t){void 0===t&&(t=!0);return o.a.create({headers:t?{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=UTF-8"}:{}})}},107:function(t,e,n){"use strict";(function(e){var r=n(30),o=n(291),i={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e)&&(a=n(171)),a),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(i)})),t.exports=u}).call(this,n(98))},108:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlOfExperiment=e.getExperimentPath=e.isValidScopeUrl=e.getAllInScopePath=e.petriUrlMap=void 0,e.petriUrlMap={new:{conductAllInScope:"/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment"},old:{conductAllInScope:"/_api/wix-laboratory-server/laboratory/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/laboratory/conductExperiment"}},e.getAllInScopePath=function(t,n){return void 0===t&&(t=""),void 0===n&&(n=!1),n?e.petriUrlMap.new.conductAllInScope+"?scope="+encodeURIComponent(t):e.petriUrlMap.old.conductAllInScope+"?scope="+encodeURIComponent(t)},e.isValidScopeUrl=function(t,n){return-1!==t.indexOf(n?e.petriUrlMap.new.conductAllInScope:e.petriUrlMap.old.conductAllInScope)},e.getExperimentPath=function(t,n,r){return void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r=!1),r?e.petriUrlMap.new.conductExperiment+"?key="+encodeURIComponent(t)+"&fallbackValue="+encodeURIComponent(n):e.petriUrlMap.old.conductExperiment+"?key="+encodeURIComponent(t)+"&fallback="+encodeURIComponent(n)},e.isUrlOfExperiment=function(t,n,r){var o=""+e.getExperimentPath(n,"",r);return t.includes(o)}},109:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tryParse=void 0,e.tryParse=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(t){}return t}},110:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConductionMethod=void 0,function(t){t.Default="",t.OwnerAccount="owner-account"}(e.ConductionMethod||(e.ConductionMethod={}))},13:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return f})),n.d(e,"__generator",(function(){return l})),n.d(e,"__createBinding",(function(){return p})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return y})),n.d(e,"__spread",(function(){return w})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return I})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return R}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function a(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=o[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):f(i[0][2],n)}catch(t){f(i[0][3],t)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function f(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},14:function(t,e,n){"use strict";n.d(e,"z",(function(){return r})),n.d(e,"A",(function(){return o})),n.d(e,"D",(function(){return i})),n.d(e,"E",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"G",(function(){return u})),n.d(e,"v",(function(){return c})),n.d(e,"t",(function(){return f})),n.d(e,"g",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return d})),n.d(e,"i",(function(){return h})),n.d(e,"h",(function(){return y})),n.d(e,"k",(function(){return w})),n.d(e,"j",(function(){return m})),n.d(e,"e",(function(){return v})),n.d(e,"d",(function(){return g})),n.d(e,"n",(function(){return b})),n.d(e,"o",(function(){return _})),n.d(e,"m",(function(){return C})),n.d(e,"r",(function(){return x})),n.d(e,"p",(function(){return I})),n.d(e,"x",(function(){return O})),n.d(e,"f",(function(){return R})),n.d(e,"C",(function(){return k})),n.d(e,"B",(function(){return P})),n.d(e,"s",(function(){return S})),n.d(e,"l",(function(){return M})),n.d(e,"q",(function(){return E})),n.d(e,"y",(function(){return A})),n.d(e,"F",(function(){return j})),n.d(e,"w",(function(){return U})),n.d(e,"u",(function(){return N}));var r="workflows-move-card-automation-action",o="workflows-move-card-automation-action-lazy",i="workflows-widget",s="workflows-widget-lazy",a="workflow-root-component",u="workflow-server-web",c="action-triggers-server",f="tasks-web",l="wix-contacts-webapp",p="archive-phase",d="archive-phase-placeholder",h="contacts.showContact",y="inbox",w="tasks",m="crm.contacts.update.oneContact.contact-panel-lazy",v=50,g=1e3,b=60,_=30,C=5e3,x="https://static.wixstatic.com/media",I="1d4dc56b-f33d-4436-b39e-a08d66608df2",O="wix-workflows",R="Archive",k="workflows.openModal",P="workflows.onCardWillMoveValidation",S="tasksApp.onChange",M="lastAccessed",E="x-wix-request-id",A="workflows-modal",j="workflows-widget-modal",U="errorWorkflowId",N={SCRATCH:"0d9f1eec-d36c-4d41-8816-6e7102b1adbd",SALES:"11111111-1111-1111-1111-111111111111",HIRING:"08bc43fa-734f-44b5-a7fa-b9561a078575",HELP_DESK:"2f8f8993-6856-4ee0-a902-cf6e7ae8c9eb",WEBSITE_DESIGN:"221b19b3-6885-4351-b6ed-105076430a13",ONLINE_STORE:"710c3aec-5fff-40fb-b564-0998c7035c38",BUSINESS_MEETINGS:"dd45ab28-fff8-46f1-83ba-e1a16cffcfc6",SITE_MEMBERS:"5760e29c-e023-44d5-8574-8de6f257565f",TODO:"45e90bbf-857d-47fa-9fd8-134b8ea205af"}},150:function(t,e,n){t.exports=n(288)},16:function(t,e){t.exports=BusinessManagerAPI},170:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},171:function(t,e,n){"use strict";var r=n(30),o=n(292),i=n(294),s=n(295),a=n(296),u=n(172),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(297);t.exports=function(t){return new Promise((function(e,f){var l=t.data,p=t.headers;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(t.url)||(d=new window.XDomainRequest,h="onload",y=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var w=t.auth.username||"",m=t.auth.password||"";p.Authorization="Basic "+c(w+":"+m)}if(d.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[h]=function(){if(d&&(4===d.readyState||y)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};o(e,f,r),d=null}},d.onerror=function(){f(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(298),g=(t.withCredentials||a(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;g&&(p[t.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(p,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)})),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),f(t),d=null)})),void 0===l&&(l=null),d.send(l)}))}},172:function(t,e,n){"use strict";var r=n(293);t.exports=function(t,e,n,o,i){var s=new Error(t);return r(s,e,n,o,i)}},173:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},174:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},188:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(14),o=function(){function t(t,e){var n=this;this.middlewares=[],this.handleResponse=function(t){return n.middlewares.reduce((function(t,e){return e(t)}),t).data},this.httpClient=t,this.serverPath=e}return t.prototype.addMiddleware=function(t){this.middlewares.push(t)},t.prototype.getWorkflow=function(t){return this.httpClient.get(this._apiRoute("workflows/"+t)).then(this.handleResponse)},t.prototype.listWorkflows=function(t){var e=void 0===t?{}:t,n=e.limit,r={limit:void 0===n?100:n,offset:e.offset,order:e.order,fields:e.fields};return this.httpClient.get(this._apiRoute("workflows"),{params:r}).then(this.handleResponse)},t.prototype.queryWorkflows=function(t){var e=void 0===t?{}:t,n=e.limit,r={limit:void 0===n?100:n,offset:e.offset,order:e.order,query:e.query};return this.httpClient.post(this._apiRoute("workflows/query"),{params:r}).then(this.handleResponse)},t.prototype.listPhases=function(t){var e=void 0===t?{}:t,n=e.workflowId,r=e.limit,o={limit:void 0===r?100:r,offset:e.offset,order:e.order,fields:e.fields};return this.httpClient.get(this._apiRoute("workflows/"+n+"/phases"),{params:o}).then(this.handleResponse)},t.prototype.createWorkflow=function(t){var e={workflow:t};return this.httpClient.post(this._apiRoute("workflows"),e).then(this.handleResponse)},t.prototype.deleteWorkflow=function(t){return this.httpClient.delete(this._apiRoute("workflows/"+t)).then(this.handleResponse)},t.prototype.createPhase=function(t,e){var n={phase:e};return this.httpClient.post(this._apiRoute("workflows/"+t+"/phases"),n).then(this.handleResponse)},t.prototype.addCard=function(t,e,n){var r={card:n};return this.httpClient.post(this._apiRoute("workflows/"+t+"/phases/"+e+"/cards"),r).then(this.handleResponse)},t.prototype.moveCard=function(t,e,n){var r={newPhaseId:e,newPosition:n};return this.httpClient.post(this._apiRoute("cards/"+t+"/move"),r).then(this.handleResponse)},t.prototype.movePhase=function(t,e,n){var r={newPosition:n};return this.httpClient.post(this._apiRoute("workflows/"+t+"/phases/"+e+"/move"),r).then(this.handleResponse)},t.prototype.renameCard=function(t,e){var n={cardInfo:{id:t,name:e}};return this.httpClient.patch(this._apiRoute("cards/"+t),n).then(this.handleResponse)},t.prototype.renameWorkflow=function(t,e){var n={workflow:{id:t,name:e}};return this.httpClient.patch(this._apiRoute("workflows/"+t),n).then(this.handleResponse)},t.prototype.renamePhase=function(t,e){var n={phase:{id:t,name:e}};return this.httpClient.patch(this._apiRoute("phases/"+t),n).then(this.handleResponse)},t.prototype.deletePhase=function(t){return this.httpClient.delete(this._apiRoute("phases/"+t)).then(this.handleResponse)},t.prototype.deleteCard=function(t){return this.httpClient.delete(this._apiRoute("cards/"+t)).then(this.handleResponse)},t.prototype.archiveCard=function(t){return this.httpClient.post(this._apiRoute("cards/"+t+"/archive")).then(this.handleResponse)},t.prototype.restoreCard=function(t,e,n){var r={newPhaseId:e,newPosition:n};return this.httpClient.post(this._apiRoute("cards/"+t+"/restore"),r).then(this.handleResponse)},t.prototype.listCards=function(t){var e=void 0===t?{}:t,n=e.workflowId,o=e.phaseId,i=e.fetchArchived,s=e.limit,a={phaseId:o,fetchArchived:i,limit:void 0===s?r.e:s,offset:e.offset,order:e.order,fields:e.fields,attachmentValue:e.attachmentValue};return this.httpClient.get(this._apiRoute("workflows/"+n+"/cards"),{params:a}).then(this.handleResponse)},t.prototype.cloneWorkflowFromTemplate=function(t){return this.httpClient.post(this._apiRoute("templates/"+t+"/clone")).then(this.handleResponse)},t.prototype._apiRoute=function(t){return i(this.serverPath,t)},t}(),i=function(t,e){return"/_api/"+t+"/api/v1/"+e}},19:function(t,e){t.exports=reactModuleContainer},203:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCacheInstance=e.ExperimentsRequestsCache=void 0;var r=n(13),o=n(109),i=n(108),s=function(){function t(){this.urlMap=new Map}return t.prototype.addUrlResponse=function(t,e){this.urlMap.set(t,e)},t.prototype.getUrlResponse=function(t){return this.urlMap.get(t)},t.prototype.getExperimentValue=function(t,e){var n,s;try{for(var a=r.__values(this.urlMap.keys()),u=a.next();!u.done;u=a.next()){var c=u.value;if(i.isUrlOfExperiment(c,t,e))return this.urlMap.get(c);if(i.isValidScopeUrl(c,e)){var f=o.tryParse(this.urlMap.get(c));if("object"==typeof f&&t in f)return f[t]}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(n)throw n.error}}},t}();e.ExperimentsRequestsCache=s,e.getCacheInstance=function(){return void 0===self.experimentsCache&&(self.experimentsCache=new s),self.experimentsCache}},204:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.httpRequest=void 0,e.httpRequest=function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="text",r.withCredentials=!0,r.onload=function(){r.status>=200&&r.status<400?e(r.responseText):n("Failed to load "+t+", status "+r.status)},r.onerror=function(){return n("Failed to load "+t)},r.send()}))}},205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalDefaults=e.GlobalDefaultKeys=void 0;var r=n(13),o=n(110);function i(t,e,n){var r,o;if("undefined"!=typeof self)if("function"==typeof n){if(void 0!==n(self[e]))return(r={})[t]=n(self[e]),r}else if(typeof self[e]===n)return(o={})[t]=self[e],o;return{}}e.GlobalDefaultKeys={UseNewApi:"__WIXEXP_USE_NEW_API",ConductionMethod:"__WIXEXP_CONDUCTION_METHOD_",OwnerAccountId:"__WIXEXP_OWNER_ACCOUNT_ID_",LoggedInUserId:"__WIXEXP_LOGGED_IN_USER_ID_"};var s=function(t){return Object.keys(o.ConductionMethod).filter((function(e){return o.ConductionMethod[e]===t})).length>0?t:void 0};e.getGlobalDefaults=function(){return r.__assign(r.__assign(r.__assign(r.__assign({},i("useNewApi",e.GlobalDefaultKeys.UseNewApi,"boolean")),i("conductionMethod",e.GlobalDefaultKeys.ConductionMethod,s)),i("siteOwnerId",e.GlobalDefaultKeys.OwnerAccountId,"string")),i("loggedInUserId",e.GlobalDefaultKeys.LoggedInUserId,"string"))}},206:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestContextQuery=void 0;var r=function(t){return"string"==typeof t&&""!==t};e.getRequestContextQuery=function(t){void 0===t&&(t={});var e=t.forSiteOwner,n=t.forSiteVisitors,o=t.overrideCriteria,i="";if(["forSiteOwner","forSiteVisitors"].reduce((function(e,n){return t[n]?e+1:e}),0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return e&&(i+=function(t){return r(t.loggedInUserId)&&r(t.siteOwnerId)?"&requestContext.forSiteOwner.loggedInUserId="+t.loggedInUserId+"&requestContext.forSiteOwner.siteOwnerId="+t.siteOwnerId:""}(e)),n&&(i+=function(t){return r(t.visitorId)&&r(t.siteOwnerId)?"&requestContext.forSiteVisitors.visitorId="+t.visitorId+"&requestContext.forSiteVisitors.siteOwnerId="+t.siteOwnerId:""}(n)),o&&(i+=function(t){return r(t.entityId)?"&requestContext.overrideCriteria.entityId="+t.entityId:""}(o)),i}},207:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baseUrl=void 0,e.baseUrl=function(t,e){return e||""}},208:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalRequestContext=e.shouldConductByAccountByDefault=void 0;var r=n(110);function o(t){return t.conductionMethod===r.ConductionMethod.OwnerAccount&&t.siteOwnerId&&t.loggedInUserId}e.shouldConductByAccountByDefault=o,e.getGlobalRequestContext=function(t){return o(t)?{forSiteOwner:{siteOwnerId:t.siteOwnerId,loggedInUserId:t.loggedInUserId}}:{}}},288:function(t,e,n){"use strict";var r=n(30),o=n(170),i=n(290),s=n(107);function a(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=a(s);u.Axios=i,u.create=function(t){return a(r.merge(s,t))},u.Cancel=n(174),u.CancelToken=n(304),u.isCancel=n(173),u.all=function(t){return Promise.all(t)},u.spread=n(305),t.exports=u,t.exports.default=u},289:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},290:function(t,e,n){"use strict";var r=n(107),o=n(30),i=n(299),s=n(300),a=n(302),u=n(303);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,this.defaults,{method:"get"},t)).method=t.method.toLowerCase(),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url));var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}})),o.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=c},291:function(t,e,n){"use strict";var r=n(30);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},292:function(t,e,n){"use strict";var r=n(172);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},293:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},294:function(t,e,n){"use strict";var r=n(30);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))})))})),i=s.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},295:function(t,e,n){"use strict";var r=n(30);t.exports=function(t){var e,n,o,i={};return t?(r.forEach(t.split("\n"),(function(t){o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)})),i):i}},296:function(t,e,n){"use strict";var r=n(30);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},297:function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),i="",s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|s)||(a="=",s%1);i+=a.charAt(63&e>>8-s%1*8)){if((n=o.charCodeAt(s+=3/4))>255)throw new r;e=e<<8|n}return i}},298:function(t,e,n){"use strict";var r=n(30);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},299:function(t,e,n){"use strict";var r=n(30);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},30:function(t,e,n){"use strict";var r=n(170),o=n(289),i=Object.prototype.toString;function s(t){return"[object Array]"===i.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"==typeof t||s(t)||(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},300:function(t,e,n){"use strict";var r=n(30),o=n(301),i=n(173),s=n(107);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(a(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},301:function(t,e,n){"use strict";var r=n(30);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},302:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},303:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},304:function(t,e,n){"use strict";var r=n(174);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},305:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},574:function(t,e){t.exports=Sentry},620:function(t,e,n){"use strict";n.r(e),n.d(e,"WorkflowModule",(function(){return M}));var r,o=n(16),i=n(1),s=n(19),a=n(14),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(n){return t.call(this,n,{files:e.getFiles(n.staticsUrl),component:a.z})||this}return u(e,t),e.getFiles=function(t){return e.minifiedFiles.map((function(e){return""+t+e}))},e.minifiedFiles=["automations-move-card-action.bundle.min.js","automations-move-card-action.min.css"],e}(s.ReactLazyComponent),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},p=function(t){return t?"":".min"},d=function(t,e){return t.map((function(t){return""+e.config.topology.workflowStaticsUrl+t}))},h=function(t){function e(n){return t.call(this,n,{files:e.getFiles(n),component:a.c})||this}return f(e,t),e.files=function(t){var e=t.debug;return["workflow-main-component.bundle"+p(e)+".js","workflow-main-component"+p(e)+".css"]},e.prefetch=function(t){var e=l(this.files(t),c.minifiedFiles);return d(e,t)},e.getFiles=function(t){return d(this.files(t),t)},e}(s.ReactLazyComponent),y=n(106),w=n(188),m=new(n(574).BrowserClient)({dsn:"https://48d69cb8501b4e228bdf2333d6a2e677@sentry.io/1386162"}),v=function(t,e){void 0===e&&(e=2e3);var n=new Map;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=r.join(",");if(!n.has(i)){var s=t.apply(void 0,r);return n.set(i,s),setTimeout((function(){n.delete(i)}),e),s}return n.get(i)}},g=n(105),b=n(100),_=n.n(b),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){return t?"":".min"},I=function(t){function e(n){return t.call(this,n,{files:e.getFiles(n),component:a.D})||this}return C(e,t),e.files=function(t){var e=t.debug;return["workflows-widget.bundle"+x(e)+".js","workflows-widget"+x(e)+".css"]},e.getFiles=function(t){return this.files(t).map((function(e){return""+t.staticsUrl+e}))},e}(s.ReactLazyComponent),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(){return(R=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},k=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},P=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},S=function(t,e,n){return t.get(e+"assets/locale/workflow/messages_"+n+".json").then((function(t){return t.data}))},M=function(t){function e(e){var n=t.call(this,e)||this;n.showModalCallbacks={},n.cardWillMoveHandlers=[],n.init=function(t){return k(n,void 0,void 0,(function(){var e,n,r,i,u,c,f,l,p=this;return P(this,(function(d){switch(d.label){case 0:Object(g.a)()&&Object(o.registerPageComponentMonitors)(o.PageComponentId.Workflow,{sentryClient:m}),this.moduleParams=t,e=s.ModuleRegistry.invoke("contacts.isPermitted",{action:"view-workflows",metaSiteId:t.metaSiteId}),Object(o.configModule)(o.ModuleId.Workflow,o.ModuleId.Contacts,{componentName:a.E,type:"contact-page-overview-side-widget",shouldRender:function(){return e}}),n=t.config.topology.workflowStaticsUrl,r=Object(y.b)(!1),i=this.getAxiosClient(),u=this.getClientApi(i),d.label=1;case 1:return d.trys.push([1,4,,5]),c=new _.a({scope:"my-account"}),[4,Promise.all([S(r,n,this.moduleParams.accountLanguage),c.ready()])];case 2:return f=d.sent()[0],Object(o.configModule)(o.ModuleId.Workflow,o.ModuleId.Triggers,this.triggersConfig(u,f,c)),[4,e];case 3:return d.sent()&&(Object(o.configModule)(o.ModuleId.Workflow,o.ModuleId.Contacts,{type:"quick_actions",actions:function(){return k(p,void 0,void 0,(function(){return P(this,(function(t){return[2,[{priority:3,label:f["contactPanel.quickActions.manageWorkflows"],type:"navigateTo",action:function(t){return{pageComponentId:o.PageComponentId.Workflow,viewId:"workflow",contextData:{referrer:"contactPanel"}}}}]]}))}))}}),Object(o.configModule)(o.ModuleId.Workflow,o.ModuleId.Contacts,{componentName:a.E,type:"panel-widget",hasFooter:!1})),[3,5];case 4:return l=d.sent(),console.log("Failed to configure modules",l),[3,5];case 5:return[2]}}))}))},s.ModuleRegistry.registerComponent(o.PageComponentId.Workflow,(function(){return h}));var r=function(t){var e=n.getAxiosClient(),r=n.getClientApi(e);return R(R({},t),{clientApi:r,staticsUrl:n.moduleParams.config.topology.workflowStaticsUrl,locale:n.moduleParams.accountLanguage,metaSiteId:n.moduleParams.metaSiteId})};return s.ModuleRegistry.registerComponent(a.A,(function(){return function(t){return i.createElement(c,r(t))}})),s.ModuleRegistry.registerComponent(a.E,(function(){return function(t){return i.createElement(I,r(t))}})),s.ModuleRegistry.registerMethod(a.C,(function(){return function(t){var e=void 0===t?{componentName:"",componentProps:{}}:t,r=e.componentName,o=e.componentProps,a=s.ModuleRegistry.component(r);if("function"==typeof n.showModal&&a){var u=o||{};n.showModal((function(t){var e=void 0===t?{}:t,n=e.onReady,r=void 0===n?function(){return null}:n,o=e.onClose,s=void 0===o?function(){return null}:o;return i.createElement(a,R(R({},u),{onReady:r,onClose:s}))}))}}})),s.ModuleRegistry.registerMethod(a.B,(function(){return function(t){n.cardWillMoveHandlers.push(t)}})),n}return O(e,t),e.prototype.showModal=function(t){var e=this.showModalCallbacks[a.y],n=this.showModalCallbacks[a.F];"function"==typeof e?e(t):"function"==typeof n&&n(t)},e.prototype.addModalCB=function(t,e){this.showModalCallbacks[t]=e},e.prototype.removeModalCB=function(t){this.showModalCallbacks[t]=null},e.prototype.getAxiosClient=function(){return new y.a(Object(y.b)())},e.prototype.getClientApi=function(t){return new w.a(t,a.G)},e.prototype.triggersConfig=function(t,e,n){var r=this,o=v(t.getWorkflow.bind(t),1e3),i=v(t.listPhases.bind(t),1e3),s=v(t.listWorkflows.bind(t),1e3),u=function(t){return k(r,void 0,Promise,(function(){var e,n;return P(this,(function(r){switch(r.label){case 0:return e=[],t&&t.phasesList?t.phasesList.total>t.phasesList.phases.length?[4,i({workflowId:t.info.id,offset:t.phasesList.phases.length,limit:t.phasesList.total-t.phasesList.phases.length})]:[3,2]:[2,[]];case 1:return n=r.sent().phases,e=t.phasesList.phases.concat(n,t.winPhase),[3,3];case 2:e=t.phasesList.phases.concat(t.winPhase),r.label=3;case 3:return[2,e]}}))}))};return{appDefId:"ea2821fc-7d97-40a9-9f75-772f29178430",appTitle:e["automations.events.cardMoved.appName"],events:{cardCreatedOrMoved:{displayName:e["automations.events.cardMoved.name"],displayDescription:e["automations.events.cardMoved.description"],displayColor:"#125b8f",providesContactInfo:!0,supportsImmediateChat:!1,supportsPingNotification:!0,conditions:{workflowId:{displayName:e["automations.events.cardMoved.workflowDropdown.label"],displayInfo:e["automations.events.cardMoved.workflowDropdown.info"],multiChoice:!1,options:function(){return k(r,void 0,void 0,(function(){var t;return P(this,(function(e){switch(e.label){case 0:return[4,s()];case 1:return[2,(t=e.sent().workflows)?t.reduce((function(t,e){return t[e.id]=e.name,t}),{}):[]]}}))}))}},phaseId:{displayName:e["automations.events.cardMoved.phaseDropdown.label"],displayInfo:e["automations.events.cardMoved.phaseDropdown.placeholder"],multiChoice:!1,options:function(t){var e=t.selectedOptions;return k(r,void 0,void 0,(function(){var t,n,r;return P(this,(function(i){switch(i.label){case 0:return e.workflowId&&1===e.workflowId.length?(t=e.workflowId[0],[4,o(t)]):[3,3];case 1:return n=i.sent().workflow,[4,u(n)];case 2:return[2,(r=i.sent())?r.reduce((function(t,e){return t[e.info.id]=e.info.name,t}),{}):[]];case 3:return[2,[]]}}))}))}}}}},actions:{moveCard:{displayName:e["automations.actions.moveCard.name"],displayInfo:e["automations.actions.moveCard.description"],componentName:a.A,requiresContactInfo:!0,verifyConfig:function(t){var e=t.actionConfig;return k(r,void 0,void 0,(function(){var t,n,r,i,s,a;return P(this,(function(c){switch(c.label){case 0:return t=!0,n=JSON.parse(e),r=n.workflowId,i=n.phaseId,r&&i?[3,1]:(t=!1,[3,5]);case 1:return[4,o(r)];case 2:return(s=c.sent().workflow)?[3,3]:(t=!1,[3,5]);case 3:return[4,u(s)];case 4:a=c.sent(),a.map((function(t){return t.info.id})).includes(i)||(t=!1),c.label=5;case 5:return[2,t]}}))}))}}},generateEventSchema:function(){return k(r,void 0,void 0,(function(){return P(this,(function(t){return[2,{"contact.Name.First":{displayName:e["automations.schema.contactFirstName"],type:"string"},"contact.Name.Last":{displayName:e["automations.schema.contactLastName"],type:"string"},"contact.Email[0]":{displayName:e["automations.schema.contactEmail"],type:"string"},workflowName:{displayName:e["automations.schema.workflowName"],type:"string"},phaseName:{displayName:e["automations.schema.stepName"],type:"string"}}]}))}))}}},e}(o.BusinessManagerModule);Object(o.registerModule)(o.ModuleId.Workflow,M)},98:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=a(p);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}});
//# sourceMappingURL=workflow-module.bundle.min.js.map