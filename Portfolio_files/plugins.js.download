!function(a){a.lang.en={wsc:{btnIgnore:"Ignore",btnIgnoreAll:"Ignore All",btnReplace:"Replace",btnReplaceAll:"Replace All",btnUndo:"Undo",changeTo:"Change to",errorLoading:"Error loading application service host: %s.",ieSpellDownload:"Spell checker not installed. Do you want to download it now?",manyChanges:"Spell check complete: %1 words changed",noChanges:"Spell check complete: No words changed",noMispell:"Spell check complete: No misspellings found",noSuggestions:"- No suggestions -",notAvailable:"Sorry, but service is unavailable now.",notInDic:"Not in dictionary",oneChange:"Spell check complete: One word changed",progress:"Spell check in progress...",title:"Spell Checker",toolbar:"Check Spelling"},undo:{redo:"Redo",undo:"Undo"},toolbar:{toolbarCollapse:"Collapse Toolbar",toolbarExpand:"Expand Toolbar",toolbarGroups:{document:"Document",clipboard:"Clipboard/Undo",editing:"Editing",forms:"Forms",basicstyles:"Basic Styles",paragraph:"Paragraph",links:"Links",insert:"Insert",styles:"Styles",colors:"Colors",tools:"Tools"},toolbars:"Editor toolbars"},table:{border:"Border size",caption:"Caption",cell:{menu:"Cell",insertBefore:"Insert Cell Before",insertAfter:"Insert Cell After",deleteCell:"Delete Cells",merge:"Merge Cells",mergeRight:"Merge Right",mergeDown:"Merge Down",splitHorizontal:"Split Cell Horizontally",splitVertical:"Split Cell Vertically",title:"Cell Properties",cellType:"Cell Type",rowSpan:"Rows Span",colSpan:"Columns Span",wordWrap:"Word Wrap",hAlign:"Horizontal Alignment",vAlign:"Vertical Alignment",alignBaseline:"Baseline",bgColor:"Background Color",borderColor:"Border Color",data:"Data",header:"Header",yes:"Yes",no:"No",invalidWidth:"Cell width must be a number.",invalidHeight:"Cell height must be a number.",invalidRowSpan:"Rows span must be a whole number.",invalidColSpan:"Columns span must be a whole number.",chooseColor:"Choose"},cellPad:"Cell padding",cellSpace:"Cell spacing",column:{menu:"Column",insertBefore:"Insert Column Before",insertAfter:"Insert Column After",deleteColumn:"Delete Columns"},columns:"Columns",deleteTable:"Delete Table",headers:"Headers",headersBoth:"Both",headersColumn:"First column",headersNone:"None",headersRow:"First Row",invalidBorder:"Border size must be a number.",invalidCellPadding:"Cell padding must be a positive number.",invalidCellSpacing:"Cell spacing must be a positive number.",invalidCols:"Number of columns must be a number greater than 0.",invalidHeight:"Table height must be a number.",invalidRows:"Number of rows must be a number greater than 0.",invalidWidth:"Table width must be a number.",menu:"Table Properties",row:{menu:"Row",insertBefore:"Insert Row Before",insertAfter:"Insert Row After",deleteRow:"Delete Rows"},rows:"Rows",summary:"Summary",title:"Table Properties",toolbar:"Table",widthPc:"percent",widthPx:"pixels",widthUnit:"width unit"},stylescombo:{label:"Styles",panelTitle:"Formatting Styles",panelTitle1:"Block Styles",panelTitle2:"Inline Styles",panelTitle3:"Object Styles"},specialchar:{options:"Special Character Options",title:"Select Special Character",toolbar:"Insert Special Character"},sourcearea:{toolbar:"Source"},scayt:{btn_about:"About SCAYT",btn_dictionaries:"Dictionaries",btn_disable:"Disable SCAYT",btn_enable:"Enable SCAYT",btn_langs:"Languages",btn_options:"Options",text_title:"Spell Check As You Type"},removeformat:{toolbar:"Remove Format"},pastetext:{button:"Paste as plain text",title:"Paste as Plain Text"},pastefromword:{confirmCleanup:"The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?",error:"It was not possible to clean up the pasted data due to an internal error",title:"Paste from Word",toolbar:"Paste from Word"},maximize:{maximize:"Maximize",minimize:"Minimize"},magicline:{title:"Insert paragraph here"},list:{bulletedlist:"Insert/Remove Bulleted List",numberedlist:"Insert/Remove Numbered List"},link:{acccessKey:"Access Key",advanced:"Advanced",advisoryContentType:"Advisory Content Type",advisoryTitle:"Advisory Title",anchor:{toolbar:"Anchor",menu:"Edit Anchor",title:"Anchor Properties",name:"Anchor Name",errorName:"Please type the anchor name",remove:"Remove Anchor"},anchorId:"By Element Id",anchorName:"By Anchor Name",charset:"Linked Resource Charset",cssClasses:"Stylesheet Classes",download:"Force Download",displayText:"Display Text",emailAddress:"E-Mail Address",emailBody:"Message Body",emailSubject:"Message Subject",id:"Id",info:"Link Info",langCode:"Language Code",langDir:"Language Direction",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",menu:"Edit Link",name:"Name",noAnchors:"(No anchors available in the document)",noEmail:"Please type the e-mail address",noUrl:"Please type the link URL",other:"<other>",popupDependent:"Dependent (Netscape)",popupFeatures:"Popup Window Features",popupFullScreen:"Full Screen (IE)",popupLeft:"Left Position",popupLocationBar:"Location Bar",popupMenuBar:"Menu Bar",popupResizable:"Resizable",popupScrollBars:"Scroll Bars",popupStatusBar:"Status Bar",popupToolbar:"Toolbar",popupTop:"Top Position",rel:"Relationship",selectAnchor:"Select an Anchor",styles:"Style",tabIndex:"Tab Index",target:"Target",targetFrame:"<frame>",targetFrameName:"Target Frame Name",targetPopup:"<popup window>",targetPopupName:"Popup Window Name",title:"Link",toAnchor:"Link to anchor in the text",toEmail:"E-mail",toUrl:"URL",toolbar:"Link",type:"Link Type",unlink:"Unlink",upload:"Upload"},indent:{indent:"Increase Indent",outdent:"Decrease Indent"},image:{alt:"Alternative Text",border:"Border",btnUpload:"Send it to the Server",button2Img:"Do you want to transform the selected image button on a simple image?",hSpace:"HSpace",img2Button:"Do you want to transform the selected image on a image button?",infoTab:"Image Info",linkTab:"Link",lockRatio:"Lock Ratio",menu:"Image Properties",resetSize:"Reset Size",title:"Image Properties",titleButton:"Image Button Properties",upload:"Upload",urlMissing:"Image source URL is missing.",vSpace:"VSpace",validateBorder:"Border must be a whole number.",validateHSpace:"HSpace must be a whole number.",validateVSpace:"VSpace must be a whole number."},horizontalrule:{toolbar:"Insert Horizontal Line"},format:{label:"Format",panelTitle:"Paragraph Format",tag_address:"Address",tag_div:"Normal (DIV)",tag_h1:"Heading 1",tag_h2:"Heading 2",tag_h3:"Heading 3",tag_h4:"Heading 4",tag_h5:"Heading 5",tag_h6:"Heading 6",tag_p:"Normal",tag_pre:"Formatted"},fakeobjects:{anchor:"Anchor",flash:"Flash Animation",hiddenfield:"Hidden Field",iframe:"IFrame",unknown:"Unknown Object"},elementspath:{eleLabel:"Elements path",eleTitle:"%1 element"},contextmenu:{options:"Context Menu Options"},clipboard:{copy:"Copy",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",cut:"Cut",cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",paste:"Paste",pasteArea:"Paste Area",pasteMsg:"Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK",securityMsg:"Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.",title:"Paste"},button:{selectedLabel:"%1 (Selected)"},blockquote:{toolbar:"Block Quote"},basicstyles:{bold:"Bold",italic:"Italic",strike:"Strikethrough",subscript:"Subscript",superscript:"Superscript",underline:"Underline"},about:{copy:"Copyright &copy; $1. All rights reserved.",dlgTitle:"About CKEditor",help:"Check $1 for help.",moreInfo:"For licensing information please visit our web site:",title:"About CKEditor",userGuide:"CKEditor User's Guide"},editor:"Rich Text Editor",editorPanel:"Rich Text Editor panel",common:{editorHelp:"Press ALT 0 for help",browseServer:"Browse Server",url:"URL",protocol:"Protocol",upload:"Upload",uploadSubmit:"Send it to the Server",image:"Image",flash:"Flash",form:"Form",checkbox:"Checkbox",radio:"Radio Button",textField:"Text Field",textarea:"Textarea",hiddenField:"Hidden Field",button:"Button",select:"Selection Field",imageButton:"Image Button",notSet:"<not set>",id:"Id",name:"Name",langDir:"Language Direction",langDirLtr:"Left to Right (LTR)",langDirRtl:"Right to Left (RTL)",langCode:"Language Code",longDescr:"Long Description URL",cssClass:"Stylesheet Classes",advisoryTitle:"Advisory Title",cssStyle:"Style",ok:"OK",cancel:"Cancel",close:"Close",preview:"Preview",resize:"Resize",generalTab:"General",advancedTab:"Advanced",validateNumberFailed:"This value is not a number.",confirmNewPage:"Any unsaved changes to this content will be lost. Are you sure you want to load new page?",confirmCancel:"You have changed some options. Are you sure you want to close the dialog window?",options:"Options",target:"Target",targetNew:"New Window (_blank)",targetTop:"Topmost Window (_top)",targetSelf:"Same Window (_self)",targetParent:"Parent Window (_parent)",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",styles:"Style",cssClasses:"Stylesheet Classes",width:"Width",height:"Height",align:"Alignment",alignLeft:"Left",alignRight:"Right",alignCenter:"Center",alignJustify:"Justify",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",alignNone:"None",invalidValue:"Invalid value.",invalidHeight:"Height must be a number.",invalidWidth:"Width must be a number.",invalidCssLength:'Value specified for the "%1" field must be a positive number with or without a valid CSS measurement unit (px, %, in, cm, mm, em, ex, pt, or pc).',invalidHtmlLength:'Value specified for the "%1" field must be a positive number with or without a valid HTML measurement unit (px or %).',invalidInlineStyle:'Value specified for the inline style must consist of one or more tuples with the format of "name : value", separated by semi-colons.',cssLengthTooltip:"Enter a number for a value in pixels or a number with a valid CSS unit (px, %, in, cm, mm, em, ex, pt, or pc).",unavailable:'%1<span class="cke_accessibility">, unavailable</span>',keyboard:{8:"Backspace",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",32:"Space",35:"End",36:"Home",46:"Delete",224:"Command"},keyboardShortcut:"Keyboard shortcut"}},a.stylesSet.add("default",[{name:"Italic Title",element:"h2",styles:{"font-style":"italic"}},{name:"Subtitle",element:"h3",styles:{color:"#aaa","font-style":"italic"}},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Marker",element:"span",attributes:{"class":"marker"}},{name:"Big",element:"big"},{name:"Small",element:"small"},{name:"Typewriter",element:"tt"},{name:"Computer Code",element:"code"},{name:"Keyboard Phrase",element:"kbd"},{name:"Sample Text",element:"samp"},{name:"Variable",element:"var"},{name:"Deleted Text",element:"del"},{name:"Inserted Text",element:"ins"},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Language: RTL",element:"span",attributes:{dir:"rtl"}},{name:"Language: LTR",element:"span",attributes:{dir:"ltr"}},{name:"Styled Image (left)",element:"img",attributes:{"class":"left"}},{name:"Styled Image (right)",element:"img",attributes:{"class":"right"}},{name:"Compact Table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}},{name:"Clean Image",type:"widget",widget:"image",attributes:{"class":"image-clean"}},{name:"Grayscale Image",type:"widget",widget:"image",attributes:{"class":"image-grayscale"}},{name:"Featured Snippet",type:"widget",widget:"codeSnippet",attributes:{"class":"code-featured"}},{name:"Featured Formula",type:"widget",widget:"mathjax",attributes:{"class":"math-featured"}},{name:"240p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-240p"},group:"size"},{name:"360p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-360p"},group:"size"},{name:"480p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-480p"},group:"size"},{name:"720p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-720p"},group:"size"},{name:"1080p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-1080p"},group:"size"},{name:"240p ",type:"widget",widget:"embed",attributes:{"class":"embed-240p"},group:"size"},{name:"360p ",type:"widget",widget:"embed",attributes:{"class":"embed-360p"},group:"size"},{name:"480p ",type:"widget",widget:"embed",attributes:{"class":"embed-480p"},group:"size"},{name:"720p ",type:"widget",widget:"embed",attributes:{"class":"embed-720p"},group:"size"},{name:"1080p ",type:"widget",widget:"embed",attributes:{"class":"embed-1080p"},group:"size"}]),function(){function b(b,c,d,e){if(!b.isReadOnly()&&!b.equals(d.editable())){a.dom.element.setMarker(e,b,"bidi_processed",1),e=b;for(var f=d.editable();(e=e.getParent())&&!e.equals(f);)if(e.getCustomData("bidi_processed"))return b.removeStyle("direction"),void b.removeAttribute("dir");e="useComputedState"in d.config?d.config.useComputedState:1,(e?b.getComputedStyle("direction"):b.getStyle("direction")||b.hasAttribute("dir"))!=c&&(b.removeStyle("direction"),e?(b.removeAttribute("dir"),c!=b.getComputedStyle("direction")&&b.setAttribute("dir",c)):b.setAttribute("dir",c),d.forceNextSelectionCheck())}}function c(b,c,d){var e=b.getCommonAncestor(!1,!0);if(b=b.clone(),b.enlarge(d==a.ENTER_BR?a.ENLARGE_LIST_ITEM_CONTENTS:a.ENLARGE_BLOCK_CONTENTS),b.checkBoundaryOfElement(e,a.START)&&b.checkBoundaryOfElement(e,a.END)){for(var f;e&&e.type==a.NODE_ELEMENT&&(f=e.getParent())&&1==f.getChildCount()&&!(e.getName()in c);)e=f;return e.type==a.NODE_ELEMENT&&e.getName()in c&&e}}function d(d){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(b,c){var d,e=b.config.useComputedState,e=void 0===e||e;if(!e){d=c.lastElement;for(var f=b.editable();d&&!(d.getName()in h||d.equals(f));){var g=d.getParent();if(!g)break;d=g}}d=d||c.block||c.blockLimit,d.equals(b.editable())&&(f=b.getSelection().getRanges()[0].getEnclosedNode())&&f.type==a.NODE_ELEMENT&&(d=f),d&&(e=e?d.getComputedStyle("direction"):d.getStyle("direction")||d.getAttribute("dir"),b.getCommand("bidirtl").setState("rtl"==e?a.TRISTATE_ON:a.TRISTATE_OFF),b.getCommand("bidiltr").setState("ltr"==e?a.TRISTATE_ON:a.TRISTATE_OFF)),e=(c.block||c.blockLimit||b.editable()).getDirection(1),e!=(b._.selDir||b.lang.dir)&&(b._.selDir=e,b.fire("contentDirChanged",e))},exec:function(e){var h=e.getSelection(),i=e.config.enterMode,j=h.getRanges();if(j&&j.length){for(var k,l={},m=h.createBookmarks(),j=j.createIterator(),n=0;k=j.getNextRange(1);){var o=k.getEnclosedNode();o&&(!o||o.type==a.NODE_ELEMENT&&o.getName()in g)||(o=c(k,f,i)),o&&b(o,d,e,l);var p=new a.dom.walker(k),q=m[n].startNode,r=m[n++].endNode;p.evaluator=function(b){var c,d=i==a.ENTER_P?"p":"div";return(c=(b?b.type==a.NODE_ELEMENT:!1)&&b.getName()in f)&&((d=b.is(d))&&(d=(d=b.getParent())?d.type==a.NODE_ELEMENT:!1),c=!(d&&b.getParent().is("blockquote"))),!!(c&&b.getPosition(q)&a.POSITION_FOLLOWING&&(b.getPosition(r)&a.POSITION_PRECEDING+a.POSITION_CONTAINS)==a.POSITION_PRECEDING)};for(;o=p.next();)b(o,d,e,l);for(k=k.createIterator(),k.enlargeBr=i!=a.ENTER_BR;o=k.getNextParagraph(i==a.ENTER_P?"p":"div");)b(o,d,e,l)}a.dom.element.clearAllMarkers(l),e.forceNextSelectionCheck(),h.selectBookmarks(m),e.focus()}}}}function e(a){var b=a==i.setAttribute,c=a==i.removeAttribute,d=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(e,f){if(!this.isReadOnly()){var g;if(g=e==(b||c?"dir":"direction")||"style"==e&&(c||d.test(f))){a:{g=this;for(var h=g.getDocument().getBody().getParent();g;){if(g.equals(h)){g=!1;break a}g=g.getParent()}g=!0}g=!g}if(g&&(g=this.getDirection(1),h=a.apply(this,arguments),g!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),h}return a.apply(this,arguments)}}var f={table:1,ul:1,ol:1,blockquote:1,div:1},g={},h={};a.tools.extend(g,f,{tr:1,p:1,div:1,li:1}),a.tools.extend(h,g,{td:1}),a.plugins.add("bidi",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"bidiltr,bidirtl",hidpi:!0,init:function(b){function c(c,d,e,f,g){b.addCommand(e,new a.command(b,f)),b.ui.addButton&&b.ui.addButton(c,{label:d,command:e,toolbar:"bidi,"+g})}if(!b.blockless){var e=b.lang.bidi;c("BidiLtr",e.ltr,"bidiltr",d("ltr"),10),c("BidiRtl",e.rtl,"bidirtl",d("rtl"),20),b.on("contentDom",function(){b.document.on("dirChanged",function(a){b.fire("dirChanged",{node:a.data,dir:a.data.getDirection(1)})})}),b.on("contentDirChanged",function(a){a=(b.lang.dir!=a.data?"add":"remove")+"Class";var c=b.ui.space(b.config.toolbarLocation);c&&c[a]("cke_mixed_dir_content")})}}});for(var i=a.dom.element.prototype,j=["setStyle","removeStyle","setAttribute","removeAttribute"],k=0;k<j.length;k++)i[j[k]]=a.tools.override(i[j[k]],e)}(),function(){function b(b,d,e){if(!b.getCustomData("indent_processed")){var f=this.editor,g=this.isIndent;if(d){if(f=b.$.className.match(this.classNameRegex),e=0,f&&(f=f[1],e=a.tools.indexOf(d,f)+1),0>(e+=g?1:-1))return;e=Math.min(e,d.length),e=Math.max(e,0),b.$.className=a.tools.ltrim(b.$.className.replace(this.classNameRegex,"")),e>0&&b.addClass(d[e-1])}else{d=c(b,e),e=parseInt(b.getStyle(d),10);var h=f.config.indentOffset||40;if(isNaN(e)&&(e=0),e+=(g?1:-1)*h,0>e)return;e=Math.max(e,0),e=Math.ceil(e/h)*h,b.setStyle(d,e?e+(f.config.indentUnit||"px"):""),""===b.getAttribute("style")&&b.removeAttribute("style")}a.dom.element.setMarker(this.database,b,"indent_processed",1)}}function c(a,b){return"ltr"==(b||a.getComputedStyle("direction"))?"margin-left":"margin-right"}var d=a.dtd.$listItem,e=a.dtd.$list,f=a.TRISTATE_DISABLED,g=a.TRISTATE_OFF;a.plugins.add("indentblock",{requires:"indent",init:function(h){function i(){j.specificDefinition.apply(this,arguments),this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:k?null:"margin-left,margin-right",classes:k||null}},this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]],this.enterBr&&(this.allowedContent.div=!0),this.requiredContent=(this.enterBr?"div":"p")+(k?"("+k.join(",")+")":"{margin-left}"),this.jobs={20:{refresh:function(b,e){var h=e.block||e.blockLimit;if(!h.is(d))var i=h.getAscendant(d),h=i&&e.contains(i)||h;if(h.is(d)&&(h=h.getParent()),this.enterBr||this.getContext(e)){if(k){var i=k,h=h.$.className.match(this.classNameRegex),j=this.isIndent,i=h?j?h[1]!=i.slice(-1):!0:j;return i?g:f}return this.isIndent?g:h?a[0>=(parseInt(h.getStyle(c(h)),10)||0)?"TRISTATE_DISABLED":"TRISTATE_OFF"]:f}return f},exec:function(c){var d,f=c.getSelection(),f=f&&f.getRanges()[0];if(d=c.elementPath().contains(e))b.call(this,d,k);else for(f=f.createIterator(),c=c.config.enterMode,f.enforceRealBlocks=!0,f.enlargeBr=c!=a.ENTER_BR;d=f.getNextParagraph(c==a.ENTER_P?"p":"div");)d.isReadOnly()||b.call(this,d,k);return!0}}}}var j=a.plugins.indent,k=h.config.indentClasses;j.registerCommands(h,{indentblock:new i(h,"indentblock",!0),outdentblock:new i(h,"outdentblock")}),a.tools.extend(i.prototype,j.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:k?new RegExp("(?:^|\\s+)("+k.join("|")+")(?=$|\\s)"):null})}})}(),function(){function b(a,b){b=void 0===b||b;var c;if(b)c=a.getComputedStyle("text-align");else{for(;(!a.hasAttribute||!a.hasAttribute("align")&&!a.getStyle("text-align"))&&(c=a.getParent(),c);)a=c;c=a.getStyle("text-align")||a.getAttribute("align")||""}return c&&(c=c.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!c&&b&&(c="rtl"==a.getComputedStyle("direction")?"right":"left"),c}function c(b,c,d){this.editor=b,this.name=c,this.value=d,this.context="p",c=b.config.justifyClasses;var e=b.config.enterMode==a.ENTER_P?"p":"div";if(c){switch(d){case"left":this.cssClassName=c[0];break;case"center":this.cssClassName=c[1];break;case"right":this.cssClassName=c[2];break;case"justify":this.cssClassName=c[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+c.join("|")+")(?=$|\\s)"),this.requiredContent=e+"("+this.cssClassName+")"}else this.requiredContent=e+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},b.config.enterMode==a.ENTER_BR&&(this.allowedContent.div=!0)}function d(b){var c=b.editor,d=c.createRange();d.setStartBefore(b.data.node),d.setEndAfter(b.data.node);for(var e,f=new a.dom.walker(d);e=f.next();)if(e.type==a.NODE_ELEMENT)if(!e.equals(b.data.node)&&e.getDirection())d.setStartAfter(e),f=new a.dom.walker(d);else{var g=c.config.justifyClasses;g&&(e.hasClass(g[0])?(e.removeClass(g[0]),e.addClass(g[2])):e.hasClass(g[2])&&(e.removeClass(g[2]),e.addClass(g[0]))),g=e.getStyle("text-align"),"left"==g?e.setStyle("text-align","right"):"right"==g&&e.setStyle("text-align","left")}}c.prototype={exec:function(c){var d=c.getSelection(),e=c.config.enterMode;if(d){for(var f,g,h=d.createBookmarks(),i=d.getRanges(),j=this.cssClassName,k=c.config.useComputedState,k=void 0===k||k,l=i.length-1;l>=0;l--)for(f=i[l].createIterator(),f.enlargeBr=e!=a.ENTER_BR;g=f.getNextParagraph(e==a.ENTER_P?"p":"div");)if(!g.isReadOnly()){g.removeAttribute("align"),g.removeStyle("text-align");var m=j&&(g.$.className=a.tools.ltrim(g.$.className.replace(this.cssClassRegex,""))),n=this.state==a.TRISTATE_OFF&&(!k||b(g,!0)!=this.value);j?n?g.addClass(j):m||g.removeAttribute("class"):n&&g.setStyle("text-align",this.value)}c.focus(),c.forceNextSelectionCheck(),d.selectBookmarks(h)}},refresh:function(c,d){var e=d.block||d.blockLimit;this.setState("body"!=e.getName()&&b(e,this.editor.config.useComputedState)==this.value?a.TRISTATE_ON:a.TRISTATE_OFF)}},a.plugins.add("justify",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"justifyblock,justifycenter,justifyleft,justifyright",hidpi:!0,init:function(a){if(!a.blockless){var b=new c(a,"justifyleft","left"),e=new c(a,"justifycenter","center"),f=new c(a,"justifyright","right"),g=new c(a,"justifyblock","justify");a.addCommand("justifyleft",b),a.addCommand("justifycenter",e),a.addCommand("justifyright",f),a.addCommand("justifyblock",g),a.ui.addButton&&(a.ui.addButton("JustifyLeft",{label:a.lang.justify.left,command:"justifyleft",toolbar:"align,10"}),a.ui.addButton("JustifyCenter",{label:a.lang.justify.center,command:"justifycenter",toolbar:"align,20"}),a.ui.addButton("JustifyRight",{label:a.lang.justify.right,command:"justifyright",toolbar:"align,30"}),a.ui.addButton("JustifyBlock",{label:a.lang.justify.block,command:"justifyblock",toolbar:"align,40"})),a.on("dirChanged",d)}}})}(),function(){a.plugins.add("selectall",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"selectall",hidpi:!0,init:function(b){b.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(b){var c=b.editable();if(c.is("textarea"))b=c.$,a.env.ie?b.createTextRange().execCommand("SelectAll"):(b.selectionStart=0,b.selectionEnd=b.value.length),b.focus();else{if(c.is("body"))b.document.$.execCommand("SelectAll",!1,null);else{var d=b.createRange();d.selectNodeContents(c),d.select()}b.forceNextSelectionCheck(),b.selectionChange()}},canUndo:!1}),b.ui.addButton&&b.ui.addButton("SelectAll",{label:b.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}})}(),function(){function b(b,c){a.tools.extend(this,{editor:b,editable:b.editable(),doc:b.document,win:b.window},c,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function c(b,c){a.tools.extend(this,c,{editor:b},!0)}function d(b,c){var d=b.editable();a.tools.extend(this,{editor:b,editable:d,inline:d.isInline(),doc:b.document,win:b.window,container:a.document.getBody(),winTop:a.document.getWindow()},c,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var e=a.tools.bind(this.queryViewport,this),h=a.tools.bind(this.hideVisible,this),i=a.tools.bind(this.removeAll,this);d.attachListener(this.winTop,"resize",e),d.attachListener(this.winTop,"scroll",e),d.attachListener(this.winTop,"resize",h),d.attachListener(this.win,"scroll",h),d.attachListener(this.inline?d:this.frame,"mouseout",function(a){var b=a.data.$.clientX;a=a.data.$.clientY,this.queryViewport(),(b<=this.rect.left||b>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible(),(0>=b||b>=this.winTopPane.width||0>=a||a>=this.winTopPane.height)&&this.hideVisible()},this),d.attachListener(b,"resize",e),d.attachListener(b,"mode",i),b.on("destroy",i),this.lineTpl=new a.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:a.tools.writeCssText(a.tools.extend({},g,this.lineStyle,!0)),tipLeftStyle:a.tools.writeCssText(a.tools.extend({},f,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:a.tools.writeCssText(a.tools.extend({},f,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function e(b){var c;return(c=b&&b.type==a.NODE_ELEMENT)&&(c=!(h[b.getComputedStyle("float")]||h[b.getAttribute("align")])),c&&!i[b.getComputedStyle("position")]}a.plugins.add("lineutils"),a.LINEUTILS_BEFORE=1,a.LINEUTILS_AFTER=2,a.LINEUTILS_INSIDE=4,b.prototype={start:function(b){var c,d,e,f,g=this,h=this.editor,i=this.doc,j=a.tools.eventsBuffer(50,function(){h.readOnly||"wysiwyg"!=h.mode||(g.relations={},(d=i.$.elementFromPoint(e,f))&&d.nodeType&&(c=new a.dom.element(d),g.traverseSearch(c),isNaN(e+f)||g.pixelSearch(c,e,f),b&&b(g.relations,e,f)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(a){e=a.data.$.clientX,f=a.data.$.clientY,j.input()}),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){j.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var b={};return b[a.LINEUTILS_BEFORE]=a.POSITION_BEFORE_START,b[a.LINEUTILS_AFTER]=a.POSITION_AFTER_END,b[a.LINEUTILS_INSIDE]=a.POSITION_AFTER_START,function(a){var c=this.editor.createRange();return c.moveToPosition(this.relations[a.uid].element,b[a.type]),c}}(),store:function(){function b(a,b,c){var d=a.getUniqueId();d in c?c[d].type|=b:c[d]={element:a,type:b}}return function(c,d){var f;d&a.LINEUTILS_AFTER&&e(f=c.getNext())&&f.isVisible()&&(b(f,a.LINEUTILS_BEFORE,this.relations),d^=a.LINEUTILS_AFTER),d&a.LINEUTILS_INSIDE&&e(f=c.getFirst())&&f.isVisible()&&(b(f,a.LINEUTILS_BEFORE,this.relations),d^=a.LINEUTILS_INSIDE),b(c,d,this.relations)}}(),traverseSearch:function(b){var c,d,f;do if(f=b.$["data-cke-expando"],!(f&&f in this.relations)){if(b.equals(this.editable))break;if(e(b))for(c in this.lookups)(d=this.lookups[c](b))&&this.store(b,d)}while((!b||b.type!=a.NODE_ELEMENT||"true"!=b.getAttribute("contenteditable"))&&(b=b.getParent()))},pixelSearch:function(){function b(b,d,f,g,h){for(var i,j=0;h(f)&&(f+=g,25!=++j);)if(i=this.doc.$.elementFromPoint(d,f))if(i==b)j=0;else if(c(b,i)&&(j=0,e(i=new a.dom.element(i))))return i}var c=a.env.ie||a.env.webkit?function(a,b){return a.contains(b)}:function(a,b){return!!(16&a.compareDocumentPosition(b))};return function(a,c,d){var f=this.win.getViewPaneSize().height,g=b.call(this,a.$,c,d,-1,function(a){return a>0});if(c=b.call(this,a.$,c,d,1,function(a){return f>a}),g)for(this.traverseSearch(g);!g.getParent().equals(a);)g=g.getParent();if(c)for(this.traverseSearch(c);!c.getParent().equals(a);)c=c.getParent();for(;(g||c)&&(g&&(g=g.getNext(e)),g&&!g.equals(c))&&(this.traverseSearch(g),c&&(c=c.getPrevious(e)),c&&!c.equals(g));)this.traverseSearch(c)}}(),greedySearch:function(){this.relations={};for(var b,c,d,f=this.editable.getElementsByTag("*"),g=0;b=f.getItem(g++);)if(!b.equals(this.editable)&&b.type==a.NODE_ELEMENT&&(b.hasAttribute("contenteditable")||!b.isReadOnly())&&e(b)&&b.isVisible())for(d in this.lookups)(c=this.lookups[d](b))&&this.store(b,c);return this.relations}},c.prototype={locate:function(){function b(b,c){var d=b.element[c===a.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return d&&e(d)?(b.siblingRect=d.getClientRect(),c==a.LINEUTILS_BEFORE?(b.siblingRect.bottom+b.elementRect.top)/2:(b.elementRect.bottom+b.siblingRect.top)/2):c==a.LINEUTILS_BEFORE?b.elementRect.top:b.elementRect.bottom}return function(c){var d;this.locations={};for(var e in c)d=c[e],d.elementRect=d.element.getClientRect(),d.type&a.LINEUTILS_BEFORE&&this.store(e,a.LINEUTILS_BEFORE,b(d,a.LINEUTILS_BEFORE)),d.type&a.LINEUTILS_AFTER&&this.store(e,a.LINEUTILS_AFTER,b(d,a.LINEUTILS_AFTER)),d.type&a.LINEUTILS_INSIDE&&this.store(e,a.LINEUTILS_INSIDE,(d.elementRect.top+d.elementRect.bottom)/2);return this.locations}}(),sort:function(){var a,b,c,d;return function(e,f){a=this.locations,b=[];for(var g in a)for(var h in a[g])if(c=Math.abs(e-a[g][h]),b.length){for(d=0;d<b.length;d++)if(c<b[d].dist){b.splice(d,0,{uid:+g,type:h,dist:c});break}d==b.length&&b.push({uid:+g,type:h,dist:c})}else b.push({uid:+g,type:h,dist:c});return"undefined"!=typeof f?b.slice(0,f):b}}(),store:function(a,b,c){this.locations[a]||(this.locations[a]={}),this.locations[a][b]=c}};var f={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},g={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};d.prototype={removeAll:function(){for(var a in this.hidden)this.hidden[a].remove(),delete this.hidden[a];for(a in this.visible)this.visible[a].remove(),delete this.visible[a]},hideLine:function(a){var b=a.getUniqueId();a.hide(),this.hidden[b]=a,delete this.visible[b]},showLine:function(a){var b=a.getUniqueId();a.show(),this.visible[b]=a,delete this.hidden[b]},hideVisible:function(){for(var a in this.visible)this.hideLine(this.visible[a])},placeLine:function(a,b){var c,d,e;if(c=this.getStyle(a.uid,a.type)){for(e in this.visible)if(this.visible[e].getCustomData("hash")!==this.hash){d=this.visible[e];break}if(!d)for(e in this.hidden)if(this.hidden[e].getCustomData("hash")!==this.hash){this.showLine(d=this.hidden[e]);break}d||this.showLine(d=this.addLine()),d.setCustomData("hash",this.hash),this.visible[d.getUniqueId()]=d,d.setStyles(c),b&&b(d)}},getStyle:function(b,c){var d=this.relations[b],e=this.locations[b][c],f={};if(f.width=d.siblingRect?Math.max(d.siblingRect.width,d.elementRect.width):d.elementRect.width,f.top=this.inline?e+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+e,f.top-this.winTopScroll.y<this.rect.top||f.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?f.left=d.elementRect.left-this.rect.relativeX:(0<d.elementRect.left?f.left=this.rect.left+d.elementRect.left:(f.width+=d.elementRect.left,f.left=this.rect.left),0<(d=f.left+f.width-(this.rect.left+this.winPane.width))&&(f.width-=d)),
f.left+=this.winTopScroll.x;for(var g in f)f[g]=a.tools.cssLength(f[g]);return f},addLine:function(){var b=a.dom.element.createFromHtml(this.lineTpl);return b.appendTo(this.container),b},prepare:function(a,b){this.relations=a,this.locations=b,this.hash=Math.random()},cleanup:function(){var a,b;for(b in this.visible)a=this.visible[b],a.getCustomData("hash")!==this.hash&&this.hideLine(a)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(a){a=a.getClientRect();var b=this.container.getDocumentPosition(),c=this.container.getComputedStyle("position");return a.relativeX=a.relativeY=0,"static"!=c&&(a.relativeY=b.y,a.relativeX=b.x,a.top-=a.relativeY,a.bottom-=a.relativeY,a.left-=a.relativeX,a.right-=a.relativeX),a}};var h={left:1,right:1,center:1},i={absolute:1,fixed:1};a.plugins.lineutils={finder:b,locator:c,liner:d}}(),a.plugins.setLang("bidi","en",{ltr:"Text direction from left to right",rtl:"Text direction from right to left"}),a.plugins.setLang("justify","en",{block:"Justify",center:"Center",left:"Align Left",right:"Align Right"}),a.plugins.setLang("selectall","en",{toolbar:"Select All"}),function(){function b(a){for(var b,c=0,d=0,e=0,f=a.$.rows.length;f>e;e++){b=a.$.rows[e];for(var g,h=c=0,i=b.cells.length;i>h;h++)g=b.cells[h],c+=g.colSpan;c>d&&(d=c)}return d}function c(b){return function(){var c=this.getValue(),c=!!(a.dialog.validate.integer()(c)&&c>0);return c||(alert(b),this.select()),c}}function d(d,g){var h=function(b){return new a.dom.element(b,d.document)},i=d.editable(),j=d.plugins.dialogadvtab;return{title:d.lang.table.title,minWidth:310,minHeight:a.env.ie?310:280,onLoad:function(){var a=this,b=a.getContentElement("advanced","advStyles");b&&b.on("change",function(){var b=this.getStyle("width",""),c=a.getContentElement("info","txtWidth");c&&c.setValue(b,!0),b=this.getStyle("height",""),(c=a.getContentElement("info","txtHeight"))&&c.setValue(b,!0)})},onShow:function(){var b,c=d.getSelection(),e=c.getRanges(),f=this.getContentElement("info","txtRows"),h=this.getContentElement("info","txtCols"),i=this.getContentElement("info","txtWidth"),j=this.getContentElement("info","txtHeight");"tableProperties"==g&&((c=c.getSelectedElement())&&c.is("table")?b=c:0<e.length&&(a.env.webkit&&e[0].shrink(a.NODE_ELEMENT),b=d.elementPath(e[0].getCommonAncestor(!0)).contains("table",1)),this._.selectedElement=b),b?(this.setupContent(b),f&&f.disable(),h&&h.disable()):(f&&f.enable(),h&&h.enable()),i&&i.onChange(),j&&j.onChange()},onOk:function(){var b=d.getSelection(),c=this._.selectedElement&&b.createBookmarks(),e=this._.selectedElement||h("table"),f={};if(this.commitContent(f,e),f.info){if(f=f.info,!this._.selectedElement)for(var g=e.append(h("tbody")),i=parseInt(f.txtRows,10)||0,j=parseInt(f.txtCols,10)||0,k=0;i>k;k++)for(var l=g.append(h("tr")),m=0;j>m;m++)l.append(h("td")).appendBogus();if(i=f.selHeaders,!e.$.tHead&&("row"==i||"both"==i)){for(l=e.getElementsByTag("thead").getItem(0),g=e.getElementsByTag("tbody").getItem(0),j=g.getElementsByTag("tr").getItem(0),l||(l=new a.dom.element("thead"),l.insertBefore(g)),k=0;k<j.getChildCount();k++)g=j.getChild(k),g.type!=a.NODE_ELEMENT||g.data("cke-bookmark")||(g.renameNode("th"),g.setAttribute("scope","col"));l.append(j.remove())}if(null!==e.$.tHead&&"row"!=i&&"both"!=i){for(l=new a.dom.element(e.$.tHead),g=e.getElementsByTag("tbody").getItem(0),m=g.getFirst();0<l.getChildCount();){for(j=l.getFirst(),k=0;k<j.getChildCount();k++)g=j.getChild(k),g.type==a.NODE_ELEMENT&&(g.renameNode("td"),g.removeAttribute("scope"));j.insertBefore(m)}l.remove()}if(!this.hasColumnHeaders&&("col"==i||"both"==i))for(l=0;l<e.$.rows.length;l++)g=new a.dom.element(e.$.rows[l].cells[0]),g.renameNode("th"),g.setAttribute("scope","row");if(this.hasColumnHeaders&&"col"!=i&&"both"!=i)for(k=0;k<e.$.rows.length;k++)l=new a.dom.element(e.$.rows[k]),"tbody"==l.getParent().getName()&&(g=new a.dom.element(l.$.cells[0]),g.renameNode("td"),g.removeAttribute("scope"));f.txtHeight?e.setStyle("height",f.txtHeight):e.removeStyle("height"),f.txtWidth?e.setStyle("width",f.txtWidth):e.removeStyle("width"),e.getAttribute("style")||e.removeAttribute("style")}if(this._.selectedElement)try{b.selectBookmarks(c)}catch(n){}else d.insertElement(e),setTimeout(function(){var b=new a.dom.element(e.$.rows[0].cells[0]),c=d.createRange();c.moveToPosition(b,a.POSITION_AFTER_START),c.select()},0)},contents:[{id:"info",label:d.lang.table.title,elements:[{type:"hbox",widths:[null,null],styles:["vertical-align:top"],children:[{type:"vbox",padding:0,children:[{type:"text",id:"txtRows","default":3,label:d.lang.table.rows,required:!0,controlStyle:"width:5em",validate:c(d.lang.table.invalidRows),setup:function(a){this.setValue(a.$.rows.length)},commit:f},{type:"text",id:"txtCols","default":2,label:d.lang.table.columns,required:!0,controlStyle:"width:5em",validate:c(d.lang.table.invalidCols),setup:function(a){this.setValue(b(a))},commit:f},{type:"html",html:"&nbsp;"},{type:"select",id:"selHeaders",requiredContent:"th","default":"",label:d.lang.table.headers,items:[[d.lang.table.headersNone,""],[d.lang.table.headersRow,"row"],[d.lang.table.headersColumn,"col"],[d.lang.table.headersBoth,"both"]],setup:function(a){var b=this.getDialog();b.hasColumnHeaders=!0;for(var c=0;c<a.$.rows.length;c++){var d=a.$.rows[c].cells[0];if(d&&"th"!=d.nodeName.toLowerCase()){b.hasColumnHeaders=!1;break}}null!==a.$.tHead?this.setValue(b.hasColumnHeaders?"both":"row"):this.setValue(b.hasColumnHeaders?"col":"")},commit:f},{type:"text",id:"txtBorder",requiredContent:"table[border]","default":d.filter.check("table[border]")?1:0,label:d.lang.table.border,controlStyle:"width:3em",validate:a.dialog.validate.number(d.lang.table.invalidBorder),setup:function(a){this.setValue(a.getAttribute("border")||"")},commit:function(a,b){this.getValue()?b.setAttribute("border",this.getValue()):b.removeAttribute("border")}},{id:"cmbAlign",type:"select",requiredContent:"table[align]","default":"",label:d.lang.common.align,items:[[d.lang.common.notSet,""],[d.lang.common.alignLeft,"left"],[d.lang.common.alignCenter,"center"],[d.lang.common.alignRight,"right"]],setup:function(a){this.setValue(a.getAttribute("align")||"")},commit:function(a,b){this.getValue()?b.setAttribute("align",this.getValue()):b.removeAttribute("align")}}]},{type:"vbox",padding:0,children:[{type:"hbox",widths:["5em"],children:[{type:"text",id:"txtWidth",requiredContent:"table{width}",controlStyle:"width:5em",label:d.lang.common.width,title:d.lang.common.cssLengthTooltip,"default":d.filter.check("table{width}")?500>i.getSize("width")?"100%":500:0,getValue:e,validate:a.dialog.validate.cssLength(d.lang.common.invalidCssLength.replace("%1",d.lang.common.width)),onChange:function(){var a=this.getDialog().getContentElement("advanced","advStyles");a&&a.updateStyle("width",this.getValue())},setup:function(a){a=a.getStyle("width"),this.setValue(a)},commit:f}]},{type:"hbox",widths:["5em"],children:[{type:"text",id:"txtHeight",requiredContent:"table{height}",controlStyle:"width:5em",label:d.lang.common.height,title:d.lang.common.cssLengthTooltip,"default":"",getValue:e,validate:a.dialog.validate.cssLength(d.lang.common.invalidCssLength.replace("%1",d.lang.common.height)),onChange:function(){var a=this.getDialog().getContentElement("advanced","advStyles");a&&a.updateStyle("height",this.getValue())},setup:function(a){(a=a.getStyle("height"))&&this.setValue(a)},commit:f}]},{type:"html",html:"&nbsp;"},{type:"text",id:"txtCellSpace",requiredContent:"table[cellspacing]",controlStyle:"width:3em",label:d.lang.table.cellSpace,"default":d.filter.check("table[cellspacing]")?1:0,validate:a.dialog.validate.number(d.lang.table.invalidCellSpacing),setup:function(a){this.setValue(a.getAttribute("cellSpacing")||"")},commit:function(a,b){this.getValue()?b.setAttribute("cellSpacing",this.getValue()):b.removeAttribute("cellSpacing")}},{type:"text",id:"txtCellPad",requiredContent:"table[cellpadding]",controlStyle:"width:3em",label:d.lang.table.cellPad,"default":d.filter.check("table[cellpadding]")?1:0,validate:a.dialog.validate.number(d.lang.table.invalidCellPadding),setup:function(a){this.setValue(a.getAttribute("cellPadding")||"")},commit:function(a,b){this.getValue()?b.setAttribute("cellPadding",this.getValue()):b.removeAttribute("cellPadding")}}]}]},{type:"html",align:"right",html:""},{type:"vbox",padding:0,children:[{type:"text",id:"txtCaption",requiredContent:"caption",label:d.lang.table.caption,setup:function(b){if(this.enable(),b=b.getElementsByTag("caption"),0<b.count()){b=b.getItem(0);var c=b.getFirst(a.dom.walker.nodeType(a.NODE_ELEMENT));c&&!c.equals(b.getBogus())?(this.disable(),this.setValue(b.getText())):(b=a.tools.trim(b.getText()),this.setValue(b))}},commit:function(b,c){if(this.isEnabled()){var e=this.getValue(),f=c.getElementsByTag("caption");if(e)0<f.count()?(f=f.getItem(0),f.setHtml("")):(f=new a.dom.element("caption",d.document),c.append(f,!0)),f.append(new a.dom.text(e,d.document));else if(0<f.count())for(e=f.count()-1;e>=0;e--)f.getItem(e).remove()}}},{type:"text",id:"txtSummary",bidi:!0,requiredContent:"table[summary]",label:d.lang.table.summary,setup:function(a){this.setValue(a.getAttribute("summary")||"")},commit:function(a,b){this.getValue()?b.setAttribute("summary",this.getValue()):b.removeAttribute("summary")}}]}]},j&&j.createAdvancedTab(d,null,"table")]}}var e=a.tools.cssLength,f=function(a){var b=this.id;a.info||(a.info={}),a.info[b]=this.getValue()};a.dialog.add("table",function(a){return d(a,"table")}),a.dialog.add("tableProperties",function(a){return d(a,"tableProperties")})}(),function(){function b(a){var b,c=a.getSelection();if(c){var d=c.getRanges();b=d&&d[0]}return b}function c(b,c){function d(a){return a=a.$||a,3===a.nodeType}function e(){var a=b.getCommonAncestor();for(a&&d(a)&&(a=a.getParent());a&&!a.isBlockBoundary();)a=a.getParent();return a}function f(a){function b(){var a="BODY"===j.$.nodeName;return a?h.getWithCache(c):window.getComputedStyle(j.$)}function e(a,b){g.forEach(function(c){a[c]&&!b.hasOwnProperty(c)&&(b[c]=a[c])})}var f={};for(a=d(a)?a.getParent():a;j.$!==a.$;){var i=a.$.style;e(i,f),a=a.getParent()}var k=b();return e(k,f),f}function i(){function c(){for(var a=e.next();a&&!d(a);)a=e.next();return a}var e=new a.dom.walker(b);return{getNextTextNode:c}}var j=e();return{getInheritedStyle:f,getTextNodesIterator:i}}function d(a){h.addEditorToCache(a)}function e(b,c,d){var f=c.pop();if(f){if(d)return e(b,c,f.equals(d)?null:d);var g=f.clone();b.insertNode(g),b.moveToPosition(g,a.POSITION_AFTER_START),e(b,c)}}function f(b,c,d){var f=c.state;if(f&&d!=f){var g=c._generalStyle,h=b.getSelection().getRanges()[0];if(h.collapsed){var i=b.elementPath(),j=i.contains(function(a){return g.checkElementRemovable(a)});if(j){var k,l,m=h.checkBoundaryOfElement(j,a.START),n=h.checkBoundaryOfElement(j,a.END);if(m&&n){for(l=h.createBookmark();k=j.getFirst();)k.insertBefore(j);j.remove(),h.moveToBookmark(l)}else m?h.moveToPosition(j,a.POSITION_BEFORE_START):n?h.moveToPosition(j,a.POSITION_AFTER_END):(h.splitElement(j),h.moveToPosition(j,a.POSITION_AFTER_END),e(h,i.elements.slice(),j));b.getSelection().selectRanges([h])}}else try{b.removeStyle(g)}catch(o){}}}var g=["font-size","font-style","text-decoration","font-weight","text-align","direction"],h={_ckIdToStyle:{},getWithCache:function(a){var b=a.id;return this._ckIdToStyle.hasOwnProperty(b)||this.addEditorToCache(a),this._ckIdToStyle[b]},addEditorToCache:function(a){function b(a){return JSON.parse(JSON.stringify(a))}var c=a.id;if(!this._ckIdToStyle.hasOwnProperty(c)){var d=window.getComputedStyle(a.document.getBody().$);this._ckIdToStyle[c]=b(d)}}};a.plugins.add("styleCommands",{requires:"wixstylecmndshelper,basicstyles",init:function(a){new i(a)},getConflictedStylesInSelection:function(a){function e(){return m.length<g.length}function f(a){return j?void g.forEach(function(b){var c=-1===m.indexOf(b);if(c){var d=j[b]!==a[b];d&&m.push(b)}}):void(j=a)}d(a);var h=b(a);if(!h)return[];for(var i,j,k=c(h,a),l=k.getTextNodesIterator(),m=[];(i=l.getNextTextNode())&&e();){var n=k.getInheritedStyle(i);f(n)}return m}});var i=function(a){this._initColorStyles(a);var b=a.config;a.addCommand("foreColor",new m(a,b.foreColor_style,"color")),a.addCommand("backColor",new m(a,b.backColor_style,"color")),a.addCommand("fontFamily",new l(a,b.fontFamily_style,"family","font-family"));var c=a.addCommand("fontSize",new l(a,b.fontSize_style,"size","font-size"));this._cmdLineHeight=a.addCommand("lineHeight",new k(a,b.lineHeight_style,"size")),this._cmdLetterSpacing=a.addCommand("letterSpacing",new j(a,b.letterSpacing_style,"size")),this._cmdLineHeight.on("beforeExec",this._enlargeSelectionToBlock,this),this._cmdLineHeight.on("afterExec",this._restoreSelection,this),c.on("afterExec",this._applySpacingCommandsAfterSize,this)};i.prototype={_initColorStyles:function(a){a.config.backColor_style.childRule=function(a){return this._isUnstylable(a)}.bind(this),a.config.foreColor_style.childRule=function(a){return!(a.is("a")||a.getElementsByTag("a").count())||this._isUnstylable(a)}.bind(this)},_selectionId:null,_enlargeSelectionToBlock:function(a){},_enlargeSelectionToStyleElement:function(b,c){var d=b.getSelection();if(d){var e=b.elementPath(),f=c&&c.findMatchingElements(e),g=f&&f.length&&f[0];return g?(this._selectionId=a.plugins.wixstylecmndshelper.saveCurrentSelection(b),d.selectElement(g),!0):!1}},_restoreSelection:function(b){var c=b.editor;this._selectionId&&a.plugins.wixstylecmndshelper.restoreCurrentSelection(c,this._selectionId),this._selectionId=null},_isUnstylable:function(a){return"false"===a.getAttribute("contentEditable")||a.getAttribute("data-nostyle")},_applySpacingCommandsAfterSize:function(b){var c=b.editor,d=c.getSelection();if(d){if(d.ignoreFillingCharRemoveOnSelectionChange(),this._cmdLetterSpacing.state!==a.TRISTATE_OFF){var e=this._enlargeSelectionToStyleElement(c,this._cmdLetterSpacing._getStyleToApply(this._cmdLetterSpacing.state));this._execCommandSilently(c,"letterSpacing",this._cmdLetterSpacing.state),e&&this._restoreSelection(b)}this._cmdLineHeight.state!==a.TRISTATE_OFF&&this._execCommandSilently(c,"lineHeight",this._cmdLineHeight.state),d.resumeFillingCharRemoveOnSelectionChange()}},_execCommandSilently:function(a,b,c){a.fire("lockSnapshot"),a.execCommand(b,c),a.fire("unlockSnapshot")}};var j=function(a,b,c){a&&this._initCommand(a,b,c)};j.prototype={_initCommand:function(b,c,d){this._styleTemplateDefinition=c,this._paramName=d,this._paramsMap={},this._paramsMap[d]="inherit",this._generalStyle=new a.style(this._styleTemplateDefinition,this._paramsMap),this._stylesCache={}},exec:function(a,b){this.fire("beforeExec",null,a),this.editorFocus&&a.focus(),a.fire("saveSnapshot"),this._applyCommand(a,b),a.fire("saveSnapshot"),this.fire("afterExec",null,a)},_applyCommand:function(b,c){var d=b.getSelection();if(d){var e=d.getRanges();e&&e[0]&&f(b,this,c)}if(c!==a.TRISTATE_OFF){var g=this._getStyleToApply(c);b.applyStyle(g)}return!0},_applyOnRangeBlocks:function(b,c,d){for(var e,f=d!==a.TRISTATE_OFF,g=b.createIterator();e=g.getNextParagraph();)e.createdByIterator&&""===e.getText()?e.remove():e.isReadOnly()||(f?e.setStyle(c,d):e.removeStyle(c))},contextSensitive:!0,_findFirstValidValue:function(a,b,c){for(var d,e=b[c].bind(b),f=0;f<a.length;f++)if(d=e(a[f]),d||0===d)return d;return void 0},_findFirstValidStyle:function(a,b){return this._findFirstValidValue(a,b,"getStyle")},_findFirstValidAttribute:function(a,b){return this._findFirstValidValue(a,b,"getAttribute")},_getState:function(a,b){var c,d=a[0],e=this._findMatchingMapKeys(this._styleTemplateDefinition.attributes),f=this._findMatchingMapKeys(this._styleTemplateDefinition.styles);if(b)c=d.getName();else if(e.length>0)c=this._findFirstValidAttribute(e,d);else{if(!(f.length>0))throw"";c=this._findFirstValidStyle(f,d)}return c},refresh:function(b,c){var d,e=this._findMatchingMapKeys(this._styleTemplateDefinition).length>0,f=e?[c.block||c.blockLimit]:this._generalStyle.findMatchingElements(c);f.length>1&&console.log("There should not be nested styles of the same type."),d=0===f.length?a.TRISTATE_OFF:this._getState(f,e),this.setState(d)},_varRegex:/#\((.+?)\)/,_findMatchingMapKeys:function(a){var b=[];for(var c in a)"string"==typeof a[c]&&this._varRegex.test(a[c]+"")&&b.push(c);return b},_getStyleToApply:function(b){this._paramsMap[this._paramName]=b;var c=this._stylesCache[b];return c||(c=new a.style(this._styleTemplateDefinition,this._paramsMap),this._stylesCache[b]=c),c}};var k=function(a,b,c){this._initCommand(a,b,c)};k.prototype=new j,k.prototype.exec=function(b,c){this.fire("beforeExec",null,b),b.focus(),b.fire("saveSnapshot"),a.env.ie&&c!==a.TRISTATE_OFF&&(this._applyCommand(b,a.TRISTATE_OFF),this._applyLineHeightOnBlock(b,a.TRISTATE_OFF));var d=this._applyCommand(b,c);d&&this._applyLineHeightOnBlock(b,c),b.fire("saveSnapshot"),this.fire("afterExec",null,b)},k.prototype._applyLineHeightOnBlock=function(a,b){var c=a.getSelection();if(c){var d=c.getRanges()[0];d&&this._applyOnRangeBlocks(d,"line-height",b)}};var l=function(a,b,c,d){this._initCommand(a,b,c),this._cssAttribute=d};l.prototype=new j,l.prototype._applyCommand=function(){var a=j.prototype._applyCommand;return function(b,c){this._applyOnSelectedBlocks(b,c),a.call(this,b,c)}}(),l.prototype._applyOnSelectedBlocks=function(a,b){var c=a.getSelection();if(c){var d=c.getRanges()[0];if(d){if(3!==d.endContainer.type){var e=d.endContainer.getChildren(),f=e.getItem(d.endOffset);null!==f&&"BR"===f.$.nodeName&&d.setEndAfter(f)}var g=this._trimPartialBlocksFromRange(d);null!==g&&this._applyOnRangeBlocks(g,"font-size",b),d.select()}}},l.prototype._trimPartialBlocksFromRange=function(a){var b=a.checkStartOfBlock(),c=a.checkEndOfBlock(),d=this._getBlockParent(a.startPath()),e=this._getBlockParent(a.endPath());if(b&&c)return a;if(e.getUniqueId()===d.getUniqueId())return null;var f=a.clone();return b||f.setStartAfter(d),c||"body"===a.endContainer.getName()||f.setEndBefore(e),f},l.prototype._getBlockParent=function(a){return null===a.block?a.blockLimit:a.block};var m=function(){j.apply(this,arguments)};m.prototype=Object.create(j.prototype),m.prototype.constructor=m,m.prototype.editorFocus=!1}(),a.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},a.config.lineHeight_style={element:"span",styles:{"line-height":"#(size)"},childRule:function(a){return!a.getStyle("font-size")}},a.config.fontFamily_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},a.config.foreColor_style={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},a.config.backColor_style={element:"span",styles:{"background-color":"#(color)"}},a.config.letterSpacing_style={element:"span",styles:{"letter-spacing":"#(size)"},childRule:function(){return!1}},a.config.coreStyles_bold={element:"span",attributes:{style:"font-weight:bold"},overrides:["strong","b"],childRule:function(){return!1}},a.config.coreStyles_italic={element:"span",attributes:{style:"font-style:italic"},overrides:["em","i"],childRule:function(){return!1}},a.config.coreStyles_underline={element:"span",attributes:{style:"text-decoration:underline"},overrides:["u"],childRule:function(){return!1}},function(){"use strict";function b(b,c,d){var e=b.getSelection();if(c)c.setAttributes(d),e.selectElement(c),c=null;else{var f=e.getRanges(1)[0];f.collapsed&&(j(b,f),k(b,f));var g=new a.style({element:"a",attributes:d});g.type=a.STYLE_INLINE,g.applyToRange(f),f.select()}}function c(a){return a.getCommand("wixComp.link")}function d(a){var b=c(a);return b?b.getSelectedLink(a):void 0}function e(a){var b=c(a);return b?b.isComponentLink(a):void 0}function f(a,b){var d=c(a);d&&a.execCommand("wixComp.link",b)}function g(c,d){var e=c.getSelection(),f=a.plugins.wixlink.getSelectedLink(c);f?e.selectElement(f):f=null,b(c,f,d)}function h(a){return a.plugins.wixComp?a.plugins.wixComp.getCompWidget(a):void 0}function i(b){var c=new a.style({element:"a",type:a.STYLE_INLINE,alwaysRemoveElement:1});b.removeStyle(c)}function j(b,c){var d=c.startContainer;if(d.type!==a.NODE_TEXT)throw"Tried to select a whole word of a none text range";for(var e=b.getSelection(),f=c.startOffset;f>0&&e.getSelectedText().indexOf(" ")<0;)f--,c.setStart(d,f),c.select(),e=b.getSelection();if(e.getSelectedText().indexOf(" ")>=0)return c.setStart(d,f+1),void c.select();if(!l(b,d,!0)){var g=n(m(d,!0),!1);c.setStart(g,g.getLength()),c.select(),j(b,c)}}function k(b,c){var d=c.endContainer;if(d.type!==a.NODE_TEXT)throw"Tried to select a whole word of a none text range";for(var e=b.getSelection(),f=c.endOffset;f<d.getLength()&&e.getSelectedText().indexOf(" ")<0;)f++,c.setEnd(d,f),c.select(),e=b.getSelection();if(e.getSelectedText().indexOf(" ")>=0)return c.setEnd(d,f-1),void c.select();if(!l(b,d,!1)){var g=n(m(d,!1),!0);c.setEnd(g,0),c.select(),k(b,c)}}function l(a,b,c){for(var d=b;!(d===a.editable()||d.isBlockBoundary&&d.isBlockBoundary());){var e=d.getParent();if(d.getIndex()!==(c?0:e.getChildCount()-1))break;d=e}return d.isBlockBoundary&&d.isBlockBoundary()}function m(a,b){for(var c=a;!c[b?"hasPrevious":"hasNext"]();)c=c.getParent();return b?c.getPrevious():c.getNext()}function n(b,c,d){for(var e=b;e.type!==a.NODE_TEXT;)e=e.getChild(d||o(e,c));return e}function o(b,c){return c?0:(b.type===a.NODE_TEXT?b.getLength():b.getChildCount())-1}a.plugins.add("wixlink",{init:function(a){a.addCommand("wixLink",new p),a.addCommand("wixUnlink",new q)}});var p=function(){},q=function(){};p.prototype={canUndo:!1,editorFocus:a.env.ie||a.env.webkit,contextSensitive:!0,exec:function(a,b){h(a)?f(a,b):g(a,b),this.refresh(a),a.fire("change")},_refreshText:function(b){var c=a.plugins.wixlink.getSelectedLink(b);c?this.setState(c.getAttribute("href")):this.setState(null)},refresh:function(a){e(a)?this.setState(d(a)):this._refreshText(a)}},q.prototype={exec:function(a){h(a)&&f(a),i(a)},refresh:function(b,c){var d=c.lastElement&&c.lastElement.getAscendant("a",!0);d&&"a"===d.getName()&&d.getChildCount()?this.setState(a.TRISTATE_OFF):this.setState(a.TRISTATE_DISABLED)}},a.plugins.wixlink={getSelectedLink:function(b){var c=b.getSelection(),d=c.getSelectedElement();if(d&&d.is("a"))return d;var e=c.getRanges(!0)[0];return e?(e.shrink(a.SHRINK_TEXT),b.elementPath(e.getCommonAncestor()).contains("a",1)):null}}}(),function(){"use strict";function b(a){return Array.prototype.slice.call(a)}function c(a,c){b(c.attributes).forEach(function(b){a.setAttribute(b.name,b.value)})}function d(a,b){b&&(a.className&&" "!==a.className.charAt(a.className.length-1)&&(a.className+=" "),a.className+=b)}function e(a,b){a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)"),"$1"),""===a.className&&a.removeAttribute("class")}function f(a,b){a.style[b]="",""===a.style.cssText&&a.removeAttribute("style")}function g(a,b){a.parentNode.replaceChild(b,a)}function h(a,b,e){var f=document.createElement(b);return c(f,a),d(f,e),f.innerHTML=a.innerHTML,f}function i(a,b){var c=a.editorTagsToWysTagAndClass[b.tagName.toLowerCase()];return c?h(b,c.seoTag,c.cssClass):null}function j(a,b){var c=b.tagName.toLowerCase(),d=a.wysTagToWysClassToEditorTag[c];if(!d)return null;var f=n(b,d);if(f){var g=h(b,d[f]);return e(g,f),g}return null}function k(a,b){return function(c,d){if("span"!==d.tagName.toLowerCase())return null;var f=c[a],g=n(d,f);if(g){var i=h(d,"span",null);return i.style[b]=f[g],e(i,g),i}return null}}function l(a,b,c){return function(d,e){if("span"!==e.tagName.toLowerCase())return null;var g=e.style&&e.style[b];if(g){c&&(g=c(g)),g=g.toLowerCase();var i=d[a][g];if(i){var j=h(e,"span",i);return f(j,b),j}return null}}}function m(b){var c=b;return b.toLowerCase().indexOf("rgb")>-1&&(c=a.tools.convertRgbToHex(b)),c}function n(a,b){var c,d=a.className.split(" ");for(var e in d)if(b[d[e]]){c=d[e];break}return c}function o(a,c,d){return b(c.children).forEach(function(b){o(a,b,d);var c=b;d.forEach(function(b){var d=b(a,c);c=d||c}),c&&g(b,c)}),c}function p(a){for(var b=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi],c=0;c<b.length;c++)a=a.replace(b[c],"");return a}a.plugins.add("wixParser",{init:function(b){a.plugins.wixParser.resetTheMaps(b.config),b.on("setData",function(a){var c=document.createElement("div");c.innerHTML=a.data.dataValue,o(b.config.wixParser,c,[j,k("wysClassToColorMap","color"),k("wysClassToBgColorMap","background-color")]),a.data.dataValue=c.innerHTML}),b.on("getData",function(c){c.data.dataValue=p(c.data.dataValue);var d=document.createElement("div");d.innerHTML=c.data.dataValue,o(b.config.wixParser,d,[i,l("colorToWysClassMap","color",m),l("bgColorToWysClassMap","background-color",m)]);var e=d.innerHTML;if(""===e){var f=b.config.enterMode===a.ENTER_DIV?"div":"p";e="<"+f+"></"+f+">"}c.data.dataValue=e})}}),a.plugins.wixParser={resetTheMaps:function(a){a.wixParser={};var b=a.wixParser.editorTagsToWysTagAndClass=a.stylesMap,c=a.wixParser.wysTagToWysClassToEditorTag={};this._forEach(b,function(a,b){c[a.seoTag]=c[a.seoTag]||{},c[a.seoTag][a.cssClass]=b}),this._resetStylePropertyMap(a,"wysClassToColorMap","colorToWysClassMap",a.colorsMap),this._resetStylePropertyMap(a,"wysClassToBgColorMap","bgColorToWysClassMap",a.bgColorsMap)},_resetStylePropertyMap:function(a,b,c,d){d=a.wixParser[b]=d&&this._forEach(d,function(a,b){d[b]=d[b].toLowerCase()})||{};var e=a.wixParser[c]={};this._forEach(d,function(a,b){e[a]=b})},_forEach:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c);return a}}}(),function(){"use strict";function b(a){return/^\u200b$/.test(a)}function c(a){return/^[\s\ufeff\u200b]*$/.test(a)}a.plugins.add("wixpaste",{init:function(a){function b(){var b=a.getSelection();d._internalCopy=b.getSelectedText().replace(/\s/g,"")}function c(){var c=a.editable();c.on("cut",b),c.on("copy",b)}var d=this;a.on("contentDom",c),a.on("paste",function(b){var c=this.getRangeWithoutEmptySpans(a);this.isPasteIntoTextBlock(c)?(b.data.dataValue=this.retrievePlainText(b.data.dataValue),b.data.type="text"):this.isInnerPaste(b.data.dataValue)||(b.data.dataValue=this.retrieveFilteredHtml(b.data.dataValue,a.config),b.data.type="html")},this,null,4)},isInnerPaste:function(a){var b=this.retrievePlainText(a),c=b.replace(/\s/g,"");return this._internalCopy===c},isPasteIntoTextBlock:function(a){var d=a.getCommonAncestor(!0,!0),e=d.getText();if(!e||b(e)||c(e))return!1;var f=a.checkStartOfBlock(),g=a.checkEndOfBlock();return f&&g?!1:!0},isSpanElement:function(b){return b.type===a.NODE_ELEMENT&&"span"===b.getName()},isTextNode:function(b){return b.type===a.NODE_TEXT},isStartsWithAnEmptySpan:function(a){var b=a.startContainer,d=b.getText();return(this.isSpanElement(b)||this.isTextNode(b))&&(!d||c(d))},getRangeWithoutEmptySpans:function(a){var b=a.getSelection(),c=b.getRanges()[0];return this.isStartsWithAnEmptySpan(c)&&(this.removeNodesWithoutText(c),b=a.getSelection(),c=b.getRanges()[0]),c},removeNodesWithoutText:function(){function b(b){return function(e){return c(e)||d(e)||e.type==a.NODE_ELEMENT&&e.isEmptyInlinePasteRemoveable()||e.type==a.NODE_TEXT&&e.isWhiteSpace()?!0:b.is("table")&&e.is("caption")?!0:!1}}var c=a.dom.walker.whitespaces(),d=a.dom.walker.bookmark(!1);return function(c,d){for(var e,f=c[d?"endPath":"startPath"](),g=f.block||f.blockLimit;g&&!g.equals(f.root)&&g.getFirst(b(g));)e=g.getFirst(b(g)),c[d?"setEndAt":"setStartAt"](g,a.POSITION_AFTER_END),e.remove();c[d?"setEndAt":"setStartAt"](g,a.POSITION_BEFORE_END)}}(),retrievePlainText:function(b){var c=document.createElement("div");c.innerHTML=b;var d=c.textContent;return c=null,a.tools.htmlEncode(d)},retrieveFilteredHtml:function(b,c){var d="h1 h2 h3 h4 h5 h6 div p ul li br";c.wixpaste&&c.wixpaste.filter&&(d=c.wixpaste.filter);var e=new a.filter(d),f=a.htmlParser.fragment.fromHtml(b),g=new a.htmlParser.basicWriter;return e.applyTo(f),f.writeHtml(g),g.getHtml()}})}(),function(){"use strict";a.plugins.add("wixstylecmndshelper",{init:function(a){}}),a.plugins.wixstylecmndshelper={selectionID:0,selections:{},saveCurrentSelection:function(a){this.selectionID++;var b=a.getSelection(1).getRanges(),c=this._isWholeTextSelected(b,a);return this.selections[this.selectionID]={isAllSelected:c,ranges:b},this.selectionID},restoreCurrentSelection:function(a,b){try{var c=this.selections[b];if(c.isAllSelected)c.ranges[0].selectNodeContents(a.document.getBody());else{var d=1===c.ranges.length&&c.ranges[0];d&&d.collapsed&&0===d.startOffset&&d.moveToElementEditStart(d.startContainer)}a.fire("lockSnapshot"),a.getSelection().selectRanges(c.ranges)}catch(e){}a.fire("unlockSnapshot"),delete this.selections[b]},_isAtStartOfText:function(a,b){var c=a.editable();if(0===b.startOffset){for(var d=b.startContainer;d.$!==c.$&&!d.hasPrevious();)d=d.getParent();return d.$===c.$}},_isAtEndOfText:function(a,b){function c(){return 3===b.endContainer.type&&b.endContainer.getLength()===b.endOffset}function d(){return 3===b.endContainer.type}var e=a.editable();if(!d()||c()){for(var f=b.endContainer;f.$!==e.$&&!f.hasNext();)f=f.getParent();return f.$===e.$}},_isWholeTextSelected:function(a,b){if(1!==a.length)return!1;var c=a[0];return this._isAtStartOfText(b,c)&&this._isAtEndOfText(b,c)}}}()}(window.CKEDITOR_NG);