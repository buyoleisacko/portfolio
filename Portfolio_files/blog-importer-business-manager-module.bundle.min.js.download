!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://static.parastorage.com/services/blog-importer-business-manager/1.472.0/",n.p="undefined"!=typeof window&&window.__STATICS_BASE_URL__||n.p,n(n.s=680)}({1:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return f}),n.d(e,"__createBinding",function(){return p}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return g}),n.d(e,"__read",function(){return h}),n.d(e,"__spread",function(){return y}),n.d(e,"__spreadArrays",function(){return m}),n.d(e,"__await",function(){return v}),n.d(e,"__asyncGenerator",function(){return O}),n.d(e,"__asyncDelegator",function(){return I}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return S}),n.d(e,"__importStar",function(){return T}),n.d(e,"__importDefault",function(){return b}),n.d(e,"__classPrivateFieldGet",function(){return R}),n.d(e,"__classPrivateFieldSet",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function a(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function g(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function O(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{!function(t){t.value instanceof v?Promise.resolve(t.value.v).then(u,c):l(i[0][2],t)}(o[t](e))}catch(t){l(i[0][3],t)}}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}}function I(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=g(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,o,(e=t[n](e)).done,e.value)})}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function b(t){return t&&t.__esModule?t:{default:t}}function R(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function E(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},102:function(t,e,n){"use strict";function r(t){for(var e={},n=("?"===t[0]?t.substr(1):t).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return e}n.d(e,"a",function(){return r})},103:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrationStatusWatcher=e.extendedMigrationStatusWatcher=e.cancelTaskWatcher=e.taskWatcher=e.TASK_FINISHED_PROGRESS=void 0;var r=n(1),o=n(19),i=n(53);function s(t,e){var n=this,s=t.taskId,a=t.delayMs,u=void 0===a?3e3:a,c=t.onFinish,l=void 0===c?function(t){return t}:c,f=t.onProgress,p=void 0===f?function(t){return t}:f,d=o.api.MIGRATION_STATUS,g=d.FAILED,h=d.CANCELLED,y=d.COMPLETED,m=!1,v=null,O=null,I=0;return r.__awaiter(n,void 0,void 0,function(){var t,n,o,a,c,f;return r.__generator(this,function(r){switch(r.label){case 0:t=[g,y,h],r.label=1;case 1:if(m)return[2];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,e(s)];case 3:return O=r.sent().task,[3,6];case 4:return r.sent(),[4,i.delay(u)];case 5:return r.sent(),[3,8];case 6:return O&&(n=O.steps,o=O.processedPosts,a=void 0===o?0:o,c=O.totalPosts,f=void 0===c?0:c,I=a&&f?Math.round(a/f*100):0,v=n[0].state,p({task:O,progress:I,state:v})),[4,i.delay(u)];case 7:if(r.sent(),m)return[2];r.label=8;case 8:if(-1===t.indexOf(v))return[3,1];r.label=9;case 9:return l({task:O,state:v}),[2]}})}).catch(function(t){throw t}),{stopWatch:function(){m=!0},getProgress:function(){return I},getState:function(){return v},getTask:function(){return O}}}function a(t){return s(t,function(t){return o.api.getCustomMigrationTaskStatus(t)})}e.TASK_FINISHED_PROGRESS=95,e.taskWatcher=s,e.cancelTaskWatcher=function(t){return s(t,function(t){return o.api.getRollBackTaskStatusByMigrationId(t)})},e.extendedMigrationStatusWatcher=function(t){var n,r=0,o=a({onFinish:t.onFinish,taskId:t.taskId,delayMs:t.delayMs}),i=Date.now(),s=setInterval(function(){var a=0;Date.now()-i>=1600?a=5:100===o.getProgress()&&(a=5),r=a+.9*o.getProgress(),o.getTask()&&t.onProgress({task:o.getTask(),progress:r,state:o.getState()}),r===e.TASK_FINISHED_PROGRESS&&(clearInterval(s),r=100,t.onProgress({task:o.getTask(),progress:r,state:o.getState()}),n=setTimeout(function(){t.onFinish({task:o.getTask(),state:o.getState()})},1600))},1e3);return{stopWatch:function(){n&&clearTimeout(n),clearInterval(s),o.stopWatch()},getState:function(){return o.getState()},getProgress:function(){return r},getTask:function(){return o.getTask()}}},e.migrationStatusWatcher=a},113:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(103);Object.defineProperty(e,"migrationStatusWatcher",{enumerable:!0,get:function(){return o.migrationStatusWatcher}}),r.__exportStar(n(119),e)},115:function(t,e,n){"use strict";n.r(e);var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var o={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}},i=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||o,this.options=e,this.debug=e.debug},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},t.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){return new t(this.logger,r({prefix:this.prefix+":"+e+":"},this.options))},t}());var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;return t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)}),this},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})},t}();function a(t){return null==t?"":""+t}function u(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function o(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(o())return{};var s=r(i.shift());!t[s]&&n&&(t[s]=new n),t=t[s]}return o()?{}:{obj:t,k:r(i.shift())}}function c(t,e,n){var r=u(t,e,Object);r.obj[r.k]=n}function l(t,e){var n=u(t,e),r=n.obj,o=n.k;if(r)return r[o]}function f(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function d(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return p[t]}):t}var g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var y=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.data=n||{},o.options=r,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o}return h(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=[t,e];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(i=t.split(".")),l(this.data,i)},e.prototype.addResource=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var s=[t,e];n&&(s=s.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(r=e,e=(s=t.split("."))[1]),this.addNamespaces(e),c(this.data,s,r),o.silent||this.emit("added",t,e,n,r)},e.prototype.addResources=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"==typeof n[o]&&this.addResource(t,e,o,n[o],{silent:!0});r.silent||this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var a=l(this.data,s)||{};r?function t(e,n,r){for(var o in n)o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof n[o]||n[o]instanceof String?r&&(e[o]=n[o]):t(e[o],n[o],r):e[o]=n[o];return e}(a,n,o):a=g({},a,n),c(this.data,s,a),i.silent||this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?g({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.getDataByLanguage=function(t){return this.data[t]},e.prototype.toJSON=function(){return this.data},e}(s),m={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,o){var i=this;return t.forEach(function(t){i.processors[t]&&(e=i.processors[t].process(e,n,r,o))}),e}},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var _=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return function(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],n,o),o.options=r,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o.logger=i.create("translator"),o}return I(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var i=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),t=i.join(r)}return"string"==typeof o&&(o=[o]),{key:t,namespaces:o}},e.prototype.translate=function(t,e){var n=this;if("object"!==(void 0===e?"undefined":O(e))&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=this.extractFromKey(t[t.length-1],e),i=o.key,s=o.namespaces,a=s[s.length-1],u=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){var l=e.nsSeparator||this.options.nsSeparator;return a+l+i}return i}var f=this.resolve(t,e),p=f&&f.res,d=f&&f.usedKey||i,g=Object.prototype.toString.apply(p),h=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&p&&("string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&(!h||"[object Array]"!==g)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,p,e):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(r){var m="[object Array]"===g?[]:{};for(var I in p)if(Object.prototype.hasOwnProperty.call(p,I)){var _=""+d+r+I;m[I]=this.translate(_,v({},e,{joinArrays:!1,ns:s})),m[I]===_&&(m[I]=p[I])}p=m}}else if(y&&h&&"[object Array]"===g)(p=p.join(h))&&(p=this.extendTranslation(p,t,e));else{var S=!1,T=!1;if(!this.isValidLookup(p)&&void 0!==e.defaultValue){if(S=!0,void 0!==e.count){var b=this.pluralResolver.getSuffix(u,e.count);p=e["defaultValue"+b]}p||(p=e.defaultValue)}this.isValidLookup(p)||(T=!0,p=i);var R=e.defaultValue&&e.defaultValue!==p&&this.options.updateMissing;if(T||S||R){this.logger.log(R?"updateKey":"missingKey",u,a,i,R?e.defaultValue:p);var E=[],N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&N&&N[0])for(var A=0;A<N.length;A++)E.push(N[A]);else"all"===this.options.saveMissingTo?E=this.languageUtils.toResolveHierarchy(e.lng||this.language):E.push(e.lng||this.language);var w=function(t,r){n.options.missingKeyHandler?n.options.missingKeyHandler(t,a,r,R?e.defaultValue:p,R,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,a,r,R?e.defaultValue:p,R,e),n.emit("missingKey",t,a,r,p)};if(this.options.saveMissing){var P=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&P?E.forEach(function(t){n.pluralResolver.getPluralFormsOfKey(t,i).forEach(function(e){return w([t],e)})}):w(E,i)}}p=this.extendTranslation(p,t,e,f),T&&p===i&&this.options.appendNamespaceToMissingKey&&(p=a+":"+i),T&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p},e.prototype.extendTranslation=function(t,e,n,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(v({},n,{interpolation:v({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=v({},this.options.interpolation.defaultVariables,i)),t=this.interpolator.interpolate(t,i,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return o.translate.apply(o,arguments)},n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,a="string"==typeof s?[s]:s;return void 0!==t&&null!==t&&a&&a.length&&!1!==n.applyPostProcessor&&(t=m.handle(a,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,o=void 0,i=void 0,s=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(r)){var a=e.extractFromKey(t,n),u=a.key;o=u;var c=a.namespaces;e.options.fallbackNS&&(c=c.concat(e.options.fallbackNS));var l=void 0!==n.count&&"string"!=typeof n.count,f=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,p=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language,n.fallbackLng);c.forEach(function(t){e.isValidLookup(r)||(s=t,p.forEach(function(o){if(!e.isValidLookup(r)){i=o;var s=u,a=[s];if(e.i18nFormat&&e.i18nFormat.addLookupKeys)e.i18nFormat.addLookupKeys(a,u,o,t,n);else{var c=void 0;l&&(c=e.pluralResolver.getSuffix(o,n.count)),l&&f&&a.push(s+c),f&&a.push(s+=""+e.options.contextSeparator+n.context),l&&a.push(s+=c)}for(var p=void 0;p=a.pop();)e.isValidLookup(r)||(r=e.getResource(o,t,p,n))}}))})}}),{res:r,usedKey:o,usedLng:i,usedNS:s}},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)},e}(s);function S(t){return t.charAt(0).toUpperCase()+t.slice(1)}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=i.create("languageUtils")}return t.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=S(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=S(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=S(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[],i=function(t){t&&(n.isWhitelisted(t)?o.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),r.forEach(function(t){o.indexOf(t)<0&&i(n.formatLanguageCode(t))}),o},t}();var b=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],R={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||t>10)&&t%10==0?2:3)}};var E=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.languageUtils=e,this.options=n,this.logger=i.create("pluralResolver"),this.rules=function(){var t={};return b.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:R[e.fc]}})}),t}()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&e.numbers.length>1},t.prototype.getPluralFormsOfKey=function(t,e){var n=this,r=[],o=this.getRule(t);return o?(o.numbers.forEach(function(o){var i=n.getSuffix(t,o);r.push(""+e+i)}),r):r},t.prototype.getSuffix=function(t,e){var n=this,r=this.getRule(t);if(r){var o=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),i=r.numbers[o];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var s=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_"+i.toString():s():"v2"===this.options.compatibilityJSON&&2===r.numbers.length&&1===r.numbers[0]?s():this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}(),N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var A=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=i.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t}),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:d,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?f(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?f(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?f(e.nestingPrefix):e.nestingPrefixEscaped||f("$t("),this.nestingSuffix=e.nestingSuffix?f(e.nestingSuffix):e.nestingSuffixEscaped||f(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n,r){var o=this,i=void 0,s=void 0,u=void 0;function c(t){return t.replace(/\$/g,"$$$$")}var f=function(t){if(t.indexOf(o.formatSeparator)<0)return l(e,t);var r=t.split(o.formatSeparator),i=r.shift().trim(),s=r.join(o.formatSeparator).trim();return o.format(l(e,i),s,n)};this.resetRegExp();var p=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler;for(u=0;(i=this.regexpUnescape.exec(t))&&(s=f(i[1].trim()),t=t.replace(i[0],s),this.regexpUnescape.lastIndex=0,!(++u>=this.maxReplaces)););for(u=0;i=this.regexp.exec(t);){if(void 0===(s=f(i[1].trim())))if("function"==typeof p){var d=p(t,i);s="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+t),s="";else"string"==typeof s||this.useRawValueToEscape||(s=a(s));if(s=this.escapeValue?c(this.escape(s)):c(s),t=t.replace(i[0],s),this.regexp.lastIndex=0,++u>=this.maxReplaces)break}return t},t.prototype.nest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,o=void 0,i=N({},n);function s(t,e){if(t.indexOf(",")<0)return t;var n=t.split(",");t=n.shift();var r=n.join(",");r=(r=this.interpolate(r,i)).replace(/'/g,'"');try{i=JSON.parse(r),e&&(i=N({},e,i))}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}for(i.applyPostProcessor=!1;r=this.nestingRegexp.exec(t);){if((o=e(s.call(this,r[1].trim(),i),i))&&r[0]===t&&"string"!=typeof o)return o;"string"!=typeof o&&(o=a(o)),o||(this.logger.warn("missed to resolve "+r[1]+" for nesting "+t),o=""),t=t.replace(r[0],o),this.regexp.lastIndex=0}return t},t}(),w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var M=function(t){function e(n,r,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.backend=n,a.store=r,a.languageUtils=o.languageUtils,a.options=s,a.logger=i.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(o,s.backend,s),a}return k(e,t),e.prototype.queueLoad=function(t,e,n,r){var o=this,i=[],s=[],a=[],u=[];return t.forEach(function(t){var r=!0;e.forEach(function(e){var a=t+"|"+e;!n.reload&&o.store.hasResourceBundle(t,e)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?s.indexOf(a)<0&&s.push(a):(o.state[a]=1,r=!1,s.indexOf(a)<0&&s.push(a),i.indexOf(a)<0&&i.push(a),u.indexOf(e)<0&&u.push(e)))}),r||a.push(t)}),(i.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:r}),{toLoad:i,pending:s,toLoadLanguages:a,toLoadNamespaces:u}},e.prototype.loaded=function(t,e,n){var r=t.split("|"),o=P(r,2),i=o[0],s=o[1];e&&this.emit("failedLoading",i,s,e),n&&this.store.addResourceBundle(i,s,n),this.state[t]=e?-1:2;var a={};this.queue.forEach(function(n){!function(t,e,n,r){var o=u(t,e,Object),i=o.obj,s=o.k;i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}(n.loaded,[i],s),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach(function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach(function(e){a[t].indexOf(e)<0&&a[t].push(e)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,s=arguments[5];return t.length?this.backend[n](t,e,function(a,u){a&&u&&r<5?setTimeout(function(){o.read.call(o,t,e,n,r+1,2*i,s)},i):s(a,u)}):s(null,{})},e.prototype.prepareLoading=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(function(t){n.loadOne(t)})},e.prototype.load=function(t,e,n){this.prepareLoading(t,e,{},n)},e.prototype.reload=function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)},e.prototype.loadOne=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),o=P(r,2),i=o[0],s=o[1];this.read(i,s,"read",null,null,function(r,o){r&&e.logger.warn(n+"loading namespace "+s+" for language "+i+" failed",r),!r&&o&&e.logger.log(n+"loaded namespace "+s+" for language "+i,o),e.loaded(t,r,o)})},e.prototype.saveMissing=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,w({},i,{isUpdate:o})),t&&t[0]&&this.store.addResource(t[0],e,n,r)},e}(s);function C(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function U(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function B(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}function D(){}var j=new(function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=U(this,t.call(this));if(o.options=C(n),o.services={},o.logger=i,o.modules={external:[]},r&&!o.isInitialized&&!n.isClone){var s;if(!o.options.initImmediate)return s=o.init(n,r),U(o,s);setTimeout(function(){o.init(n,r)},0)}return o}return B(e,t),e.prototype.init=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function r(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=x({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};return t[1]&&(e.defaultValue=t[1]),t[2]&&(e.tDescription=t[2]),e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,C(e)),this.format=this.options.interpolation.format,n||(n=D),!this.options.isClone){this.modules.logger?i.init(r(this.modules.logger),this.options):i.init(null,this.options);var o=new T(this.options);this.store=new y(this.options.resources,this.options);var s=this.services;s.logger=i,s.resourceStore=this.store,s.languageUtils=o,s.pluralResolver=new E(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new A(this.options),s.backendConnector=new M(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))}),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new _(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var a=function(){t.changeLanguage(t.options.lng,function(e,r){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),n(e,r)})};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},e.prototype.loadResources=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var n=[],r=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};if(this.language)r(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return r(t)});this.options.preload&&this.options.preload.forEach(function(t){return r(t)}),this.services.backendConnector.load(n,this.options.ns,e)}},e.prototype.reloadResources=function(t,e,n){t||(t=this.languages),e||(e=this.options.ns),n||(n=function(){}),this.services.backendConnector.reload(t,e,n)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&m.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},e.prototype.changeLanguage=function(t,e){var n=this,r=function(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(function(r){!function(t,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),e&&e(t,function(){return n.t.apply(n,arguments)})}(r,t)})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect())},e.prototype.getFixedT=function(t,e){var n=this,r=function t(e,r){for(var o=arguments.length,i=Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];var a=x({},r);return"object"!==(void 0===r?"undefined":L(r))&&(a=n.options.overloadTranslationOptionHandler([e,r].concat(i))),a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,n.t(e,a)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r},e.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},e.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(e)},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],r=t.filter(function(t){return n.indexOf(t)<0});if(!r.length)return e();this.options.preload=n.concat(r),this.loadResources(e)},e.prototype.dir=function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,o=x({},this.options,n,{isClone:!0}),i=new e(o);return["store","services","language"].forEach(function(e){i[e]=t[e]}),i.translator=new _(i.services,i.options),i.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),i.init(o,r),i.translator.options=i.options,i},e}(s));n.d(e,"changeLanguage",function(){return G}),n.d(e,"cloneInstance",function(){return F}),n.d(e,"createInstance",function(){return K}),n.d(e,"dir",function(){return W}),n.d(e,"exists",function(){return q}),n.d(e,"getFixedT",function(){return H}),n.d(e,"init",function(){return V}),n.d(e,"loadLanguages",function(){return X}),n.d(e,"loadNamespaces",function(){return z}),n.d(e,"loadResources",function(){return $}),n.d(e,"off",function(){return Y}),n.d(e,"on",function(){return J}),n.d(e,"setDefaultNamespace",function(){return Z}),n.d(e,"t",function(){return Q}),n.d(e,"use",function(){return tt});e.default=j;var G=j.changeLanguage.bind(j),F=j.cloneInstance.bind(j),K=j.createInstance.bind(j),W=j.dir.bind(j),q=j.exists.bind(j),H=j.getFixedT.bind(j),V=j.init.bind(j),X=j.loadLanguages.bind(j),z=j.loadNamespaces.bind(j),$=j.loadResources.bind(j),Y=j.off.bind(j),J=j.on.bind(j),Z=j.setDefaultNamespace.bind(j),Q=j.t.bind(j),tt=j.use.bind(j)},119:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},17:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return l});var r=n(6);function o(t){r.ModuleRegistry.notifyListeners("blogImporterBusinessModule.onImportCompleted",t)}function i(t){r.ModuleRegistry.notifyListeners("blogImporterBusinessModule.importButtonStateChanged",t)}function s(t){r.ModuleRegistry.notifyListeners("blogImporterBusinessModule.openImporterModal",t)}function a(t){r.ModuleRegistry.invoke("blogImporterBusinessModule.showNotification",t)}function u(t){r.ModuleRegistry.invoke("blogImporterBusinessModule.updateImportButtonState",t)}function c(){return r.ModuleRegistry.invoke("blogImporterBusinessModule.getExperimentsPromise",null)}function l(t){return r.ModuleRegistry.invoke("blogImporterBusinessModule.getExperiment",t)}},175:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlOfExperiment=e.getExperimentPath=e.isValidScopeUrl=e.getAllInScopePath=e.petriUrlMap=void 0,e.petriUrlMap={new:{conductAllInScope:"/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment"},old:{conductAllInScope:"/_api/wix-laboratory-server/laboratory/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/laboratory/conductExperiment"}},e.getAllInScopePath=function(t,n){return void 0===t&&(t=""),void 0===n&&(n=!1),n?e.petriUrlMap.new.conductAllInScope+"?scope="+encodeURIComponent(t):e.petriUrlMap.old.conductAllInScope+"?scope="+encodeURIComponent(t)},e.isValidScopeUrl=function(t,n){return-1!==t.indexOf(n?e.petriUrlMap.new.conductAllInScope:e.petriUrlMap.old.conductAllInScope)},e.getExperimentPath=function(t,n,r){return void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r=!1),r?e.petriUrlMap.new.conductExperiment+"?key="+encodeURIComponent(t)+"&fallbackValue="+encodeURIComponent(n):e.petriUrlMap.old.conductExperiment+"?key="+encodeURIComponent(t)+"&fallback="+encodeURIComponent(n)},e.isUrlOfExperiment=function(t,n,r){var o=""+e.getExperimentPath(n,"",r);return t.includes(o)}},176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tryParse=void 0,e.tryParse=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(t){}return t}},177:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConductionMethod=void 0,function(t){t.Default="",t.OwnerAccount="owner-account"}(e.ConductionMethod||(e.ConductionMethod={}))},19:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(56);e.api=o.api;var i=n(37);e.MigrationStatStage=i.MigrationStatStage,e.MigrationStepStatus=i.MigrationStepStatus,r.__exportStar(n(88),e)},20:function(t,e,n){"use strict";n.d(e,"h",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"f",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return l});var r="BLOG_IMPORTER_BUSINESS_MANAGER",o="blog-importer-business-manager-lazy-component-id",i="blog-importer-business-manager-component-id",s="blog-import-button-id",a="blog-import-button-lazy-id",u="blog-importer-business-manager_APP_VIEW_ID",c="blog-importer-history-business-manager-lazy-component-id",l="blog-importer-history-business-manager-component-id"},22:function(t,e){t.exports=BusinessManagerAPI},24:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMPORT_BUTTON_TOOLTIP=e.IMPORT_BUTTON_STATE=void 0,function(t){t.HIDDEN="hidden",t.DISABLED="disabled",t.REGULAR="regular"}(e.IMPORT_BUTTON_STATE||(e.IMPORT_BUTTON_STATE={})),function(t){t.REGULAR="btn.import.tooltip.regular",t.NOT_OWNER="btn.import.tooltip.disabled-owner",t.IN_PROGRESS="btn.import.tooltip.disabled-progress",t.ALREADY_IMPORTED="btn.import.tooltip.disabled-already-imported",t.CANCELLING="btn.import.tooltip.disabled-while-canceling"}(e.IMPORT_BUTTON_TOOLTIP||(e.IMPORT_BUTTON_TOOLTIP={}))},252:function(t,e,n){t.exports=n(267).default},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(175),i=n(270),s=n(176),a=n(271),u=n(272),c=n(273),l=n(274),f=n(275),p=function(){function t(t){void 0===t&&(t={});var e=u.getGlobalDefaults();this.useNewApi=void 0!==t.useNewApi?t.useNewApi:e.useNewApi||!1,this.experiments=t.experiments||{},this.loaders=new Map,this.baseUrl=l.baseUrl(this.useNewApi,t.baseUrl),this.requestContext=t.requestContext||f.getGlobalRequestContext(e),t.scope&&this.load(t.scope)}return t.prototype.add=function(t){this.experiments=r.__assign(r.__assign({},this.experiments),t)},t.prototype.get=function(t){return this.experiments[t]},t.prototype.enabled=function(t){return"true"===this.get(t)},t.prototype.all=function(){return this.experiments},t.prototype._addLoader=function(t,e){var n=this;return this.loaders.set(t,e),e.then(function(){n.loaders.delete(t)}),e},t.prototype._getUrlWithFallback=function(t,e){var n=i.getCacheInstance().getUrlResponse(t);if(void 0!==n)return Promise.resolve(n);var r=this.loaders.get(t);return void 0!==r?r:a.httpRequest(t).then(function(e){return i.getCacheInstance().addUrlResponse(t,e),e}).catch(function(){return e})},t.prototype.load=function(t){var e=this,n=o.getAllInScopePath(t,this.useNewApi),r=this.useNewApi?c.getRequestContextQuery(this.requestContext):"",i=""+this.baseUrl+n+r,a=this._getUrlWithFallback(i,{}).then(s.tryParse).then(function(t){return e.useNewApi?t.values:t}).then(function(t){return e.add(t)});return this._addLoader(i,a)},t.prototype.conduct=function(t,e){var n,r=this,s=i.getCacheInstance().getExperimentValue(t,this.useNewApi);if(void 0!==s)return this.add(((n={})[t]=s,n)),Promise.resolve(s);var a=o.getExperimentPath(t,e,this.useNewApi),u=this.useNewApi?c.getRequestContextQuery(this.requestContext):"",l=""+this.baseUrl+a+u,f=this._getUrlWithFallback(l,e).then(function(e){var n,o=r.useNewApi?JSON.parse(e).value:e;return r.add(((n={})[t]=o,n)),o});return this._addLoader(l,f)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t}();e.default=p},26:function(t,e,n){t.exports=n(71)},267:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(268)),i=function(t){return t&&t.__esModule?t:{default:t}}(n(269));var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n),this.type="backend"}return r(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=t,this.options=o.defaults(e,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:i.default})}},{key:"readMulti",value:function(t,e,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath(t,e));var o=this.services.interpolator.interpolate(r,{lng:t.join("+"),ns:e.join("+")});this.loadUrl(o,n)}},{key:"read",value:function(t,e,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath([t],[e]));var o=this.services.interpolator.interpolate(r,{lng:t,ns:e});this.loadUrl(o,n)}},{key:"loadUrl",value:function(t,e){var n=this;this.options.ajax(t,this.options,function(r,o){if(o.status>=500&&o.status<600)return e("failed loading "+t,!0);if(o.status>=400&&o.status<500)return e("failed loading "+t,!1);var i=void 0,s=void 0;try{i=n.options.parse(r,t)}catch(e){s="failed parsing "+t+" to json"}if(s)return e(s,!1);e(null,i)})}},{key:"create",value:function(t,e,n,r){var o=this;"string"==typeof t&&(t=[t]);var i={};i[n]=r||"",t.forEach(function(t){var n=o.services.interpolator.interpolate(o.options.addPath,{lng:t,ns:e});o.options.ajax(n,o.options,function(t,e){},i)})}}]),t}();s.type="backend",e.default=s},268:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaults=function(t){return o.call(i.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},e.extend=function(t){return o.call(i.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t};var r=[],o=r.forEach,i=r.slice},269:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){if(e&&"object"===(void 0===e?"undefined":r(e))){var n="",o=encodeURIComponent;for(var i in e)n+="&"+o(i)+"="+o(e[i]);if(!n)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+n.slice(1)}return t}e.default=function(t,e,n,i,s){i&&"object"===(void 0===i?"undefined":r(i))&&(s||(i._t=new Date),i=o("",i).slice(1)),e.queryStringParams&&(t=o(t,e.queryStringParams));try{var a;(a=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",t,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,i&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var u=e.customHeaders;if(u)for(var c in u)a.setRequestHeader(c,u[c]);a.onreadystatechange=function(){a.readyState>3&&n&&n(a.responseText,a)},a.send(i)}catch(t){console&&console.log(t)}}},270:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCacheInstance=e.ExperimentsRequestsCache=void 0;var r=n(1),o=n(176),i=n(175),s=function(){function t(){this.urlMap=new Map}return t.prototype.addUrlResponse=function(t,e){this.urlMap.set(t,e)},t.prototype.getUrlResponse=function(t){return this.urlMap.get(t)},t.prototype.getExperimentValue=function(t,e){var n,s;try{for(var a=r.__values(this.urlMap.keys()),u=a.next();!u.done;u=a.next()){var c=u.value;if(i.isUrlOfExperiment(c,t,e))return this.urlMap.get(c);if(i.isValidScopeUrl(c,e)){var l=o.tryParse(this.urlMap.get(c));if("object"==typeof l&&t in l)return l[t]}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(n)throw n.error}}},t}();e.ExperimentsRequestsCache=s,e.getCacheInstance=function(){return void 0===self.experimentsCache&&(self.experimentsCache=new s),self.experimentsCache}},271:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.httpRequest=void 0,e.httpRequest=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="text",r.withCredentials=!0,r.onload=function(){r.status>=200&&r.status<400?e(r.responseText):n("Failed to load "+t+", status "+r.status)},r.onerror=function(){return n("Failed to load "+t)},r.send()})}},272:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalDefaults=e.GlobalDefaultKeys=void 0;var r=n(1),o=n(177);function i(t,e,n){var r,o;if("undefined"!=typeof self)if("function"==typeof n){if(void 0!==n(self[e]))return(r={})[t]=n(self[e]),r}else if(typeof self[e]===n)return(o={})[t]=self[e],o;return{}}e.GlobalDefaultKeys={UseNewApi:"__WIXEXP_USE_NEW_API",ConductionMethod:"__WIXEXP_CONDUCTION_METHOD_",OwnerAccountId:"__WIXEXP_OWNER_ACCOUNT_ID_",LoggedInUserId:"__WIXEXP_LOGGED_IN_USER_ID_"};var s=function(t){return Object.keys(o.ConductionMethod).filter(function(e){return o.ConductionMethod[e]===t}).length>0?t:void 0};e.getGlobalDefaults=function(){return r.__assign(r.__assign(r.__assign(r.__assign({},i("useNewApi",e.GlobalDefaultKeys.UseNewApi,"boolean")),i("conductionMethod",e.GlobalDefaultKeys.ConductionMethod,s)),i("siteOwnerId",e.GlobalDefaultKeys.OwnerAccountId,"string")),i("loggedInUserId",e.GlobalDefaultKeys.LoggedInUserId,"string"))}},273:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestContextQuery=void 0;var r=function(t){return"string"==typeof t&&""!==t},o=function(t){return r(t.loggedInUserId)&&r(t.siteOwnerId)?"&requestContext.forSiteOwner.loggedInUserId="+t.loggedInUserId+"&requestContext.forSiteOwner.siteOwnerId="+t.siteOwnerId:""},i=function(t){return r(t.visitorId)&&r(t.siteOwnerId)?"&requestContext.forSiteVisitors.visitorId="+t.visitorId+"&requestContext.forSiteVisitors.siteOwnerId="+t.siteOwnerId:""},s=function(t){return r(t.entityId)?"&requestContext.overrideCriteria.entityId="+t.entityId:""};e.getRequestContextQuery=function(t){void 0===t&&(t={});var e=t.forSiteOwner,n=t.forSiteVisitors,r=t.overrideCriteria,a="";if(["forSiteOwner","forSiteVisitors"].reduce(function(e,n){return t[n]?e+1:e},0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return e&&(a+=o(e)),n&&(a+=i(n)),r&&(a+=s(r)),a}},274:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baseUrl=void 0,e.baseUrl=function(t,e){return e||""}},275:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalRequestContext=e.shouldConductByAccountByDefault=void 0;var r=n(177);function o(t){return t.conductionMethod===r.ConductionMethod.OwnerAccount&&t.siteOwnerId&&t.loggedInUserId}e.shouldConductByAccountByDefault=o,e.getGlobalRequestContext=function(t){return o(t)?{forSiteOwner:{siteOwnerId:t.siteOwnerId,loggedInUserId:t.loggedInUserId}}:{}}},33:function(t,e,n){"use strict";n.r(e);var r,o,i,s,a=n(1),u=n(26),c=n.n(u),l={getFailures:function(t){return"migration-tasks/"+t+"/failures"},getTemplatesByCategory:function(t){return"/template-categories/"+t+"/templates"},getMigrationTaskInfo:function(t){return"/migration-tasks/"+t},getRollbackTask:function(t){return"/rollback-tasks/"+t},getRollbackTasks:function(){return"/rollback-tasks"},migrationTaskAcknowledgment:function(t){return"/migration-tasks/"+t+"/ack"},cancelMigration:function(t){return l.MIGRATION_TASKS+"/"+t+"/cancel"},startRollback:function(t){return"/migration-tasks/"+t+"/rollback"},ROLLBACK_TASKS:"/rollback-tasks",CREATE_MIGRATION_TASK:"/migration-tasks",MIGRATION_TASKS_VALIDATE:"/migration-task-validate",MIGRATION_TASKS:"/migration-tasks",BLOG_POSTS:"/wp-posts",CATEGORIES:"/template-categories",USER_SITES:"/sites",RESOLVE_META_SITE_ID:"/resolve-meta-site-id",USER_PERMISSIONS_BY_META_SITE_ID:"/get-user-permission",USER_BLOG_INFO:"/wp-blog",VALIDATE_URL:"/validate-url",CONTACT_SUPPORT:"/create-ticket",SNAPSHOT_URL:"https://www.wix.com/_api/blog-importer-screenshooter/snapshot",DELETE_SITE:"/delete",IS_PREMIUM:"/premium-store/plans/premiumStatus"};!function(t){t.FAILED="Failed",t.COMPLETED="Completed",t.PENDING="Pending",t.RUNNING="Running",t.CANCELLED="Cancelled",t.CANCELLING="Cancelling",t.ACKNOWLEDGED="Acknowledged"}(r||(r={})),function(t){t.LOADING="loading",t.PUBLISHING="publishing",t.CONVERSION="conversion",t.IMPORTING="importing"}(o||(o={})),function(t){t.EMPTY_BLOG="EMPTY_BLOG",t.REST_API_UNAVAILABLE="REST_API_UNAVAILABLE",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_WORDPRESS_BLOG="NOT_WORDPRESS_BLOG",t.COMBINED_ERROR="COMBINED_ERROR"}(i||(i={})),function(t){t.NOT_BLOG="NOT_BLOG",t.UNAUTHORIZED="UNAUTHORIZED",t.FORBIDDEN="FORBIDDEN",t.UNKNOWN="UNKNOWN"}(s||(s={}));var f=new(function(){function t(){var t=this;this.LOCAL_DOMAIN="http://local.wix.com:3000",this.WIX_DOMAIN="https://www.wix.com",this.FRONTEND_URL=this.WIX_DOMAIN+"/blog-importer-proxy/frontend-api",this.BASE_URL=this.WIX_DOMAIN+"/_api/blog-importer-service-web",this.cancelTokens=new Map,this.MIGRATION_STATUS={FAILED:"Failed",COMPLETED:"Completed",PENDING:"Pending",RUNNING:"Running",CANCELLED:"Cancelled",CANCELLING:"Cancelling",ACKNOWLEDGED:"Acknowledged"},this.axiosInstanceFrontend=c.a.create({baseURL:this.FRONTEND_URL}),this.axiosInstance=c.a.create({baseURL:this.BASE_URL}),this.axiosBMInstance=c.a.create({baseURL:this.WIX_DOMAIN+"/_api"}),this.getSnapshot=function(e){var n={url:e},r={cancelToken:t.registerCancelTokenSourceForRequest(t.getSnapshot).token,timeout:2e4};return c.a.get(l.SNAPSHOT_URL,a.__assign({params:n},r)).then(function(e){var n=e.data;return t.cleanCancelTokenSources(t.getSnapshot),{snapshot:function(t){if("string"==typeof t)return t;var e=new Uint8Array(t),n=new Blob([e],{type:"image/jpeg"});return(window.URL||window.webkitURL).createObjectURL(n)}(n.img.data)}}).catch(function(e){return t.cleanCancelTokenSources(t.getSnapshot),Promise.reject(e)})},this.validateUrlAndGetUserBlogInfo=function(e){return a.__awaiter(t,void 0,void 0,function(){var t,n,r,o,s,u,c,l;return a.__generator(this,function(f){switch(f.label){case 0:return t=e.trim(),n=/^(http:\/\/|https:\/\/)/.test(t),r=null,n?[4,this.getUserBlogInfo(t)]:[3,2];case 1:return c=f.sent(),[2,a.__assign({},c,{sourceUrl:c.correctUrl.url})];case 2:o=0,s=["https://"+t,"http://"+t],f.label=3;case 3:if(!(o<s.length))return[3,8];u=s[o],f.label=4;case 4:return f.trys.push([4,6,,7]),[4,this.getUserBlogInfo(u)];case 5:return c=f.sent(),[2,a.__assign({},c,{sourceUrl:c.correctUrl.url})];case 6:if(l=f.sent(),(r=l).error!==i.NOT_WORDPRESS_BLOG)return[3,8];if(this.isCancel(l))throw l;return[3,7];case 7:return o++,[3,3];case 8:return[2,Promise.reject(r)]}})})};var e=Function("return this")();if(e.__api)return e.__api;e.__api=this}return t.prototype.getCancelTokenSourcesForRequest=function(t){return this.cancelTokens.get(t)||[]},t.prototype.registerCancelTokenSourceForRequest=function(t){var e=this.getCancelTokenSourcesForRequest(t),n=c.a.CancelToken.source();return e.push(n),this.cancelTokens.set(t,e),n},t.prototype.cleanCancelTokenSources=function(t,e){if(void 0===e&&(e=null),e){var n=this.getCancelTokenSourcesForRequest(t),r=n.indexOf(e);if(-1!==r)return n.splice(1,r),void this.cancelTokens.set(t,n)}this.cancelTokens.set(t,[])},t.prototype.cancelRequest=function(t){var e=this.getCancelTokenSourcesForRequest(t),n=e.length;return e.forEach(function(t){return t.cancel("canceled")}),n},t.prototype.isCancel=function(t){return c.a.isCancel(t)},t.prototype.contactSupport=function(t){return this.axiosInstanceFrontend.post(l.CONTACT_SUPPORT,{message:t.message,blogUrl:t.blogUrl||"No blog url provided from API.",taskId:t.taskId}).then(function(t){return t.data})},t.prototype.isPremium=function(t){return this.axiosBMInstance.get(l.IS_PREMIUM,{params:{metaSiteId:t}})},t.prototype.checkMigrationTaskStatus=function(t){return this.axiosInstance.get(l.getMigrationTaskInfo(t)).then(function(t){return t.data})},t.prototype.validateMigrationTask=function(t,e){return this.axiosInstance.get(l.MIGRATION_TASKS_VALIDATE,{params:{blogUrl:t,wixInstance:e}}).then(function(t){return t.data})},t.prototype.createMigrationTask=function(t){var e=t.blogUrl,n=t.wixInstance,r=t.userId,o=t.siteId,i=t.metaSiteId,s=t.cleanDestination,a=void 0!==s&&s;return this.axiosInstance.post(l.CREATE_MIGRATION_TASK,{migration:{source:{blogUrl:e},destination:{userId:r,siteId:o,metaSiteId:i,wixInstance:n},options:{cleanDestination:a}}}).then(function(t){return t.data.taskId})},t.prototype.getUserPermissionsByMetaSiteId=function(t,e){return this.axiosInstanceFrontend.get(l.USER_PERMISSIONS_BY_META_SITE_ID,{params:{metaSiteId:t,hideButtonIfUserHasNotPermissions:e}}).then(function(t){return t.data})},t.prototype.cancelMigration=function(t){return this.axiosInstance.post(l.cancelMigration(t)).then(function(t){return t.data})},t.prototype.getUserBlogInfo=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.axiosInstanceFrontend.get(l.VALIDATE_URL,{params:{blogUrl:t},cancelToken:this.registerCancelTokenSourceForRequest(this.getUserBlogInfo).token}).catch(function(e){return n.cleanCancelTokenSources(n.getUserBlogInfo),n.isCancel(e)?Promise.reject(e):Promise.reject({sourceUrl:t,error:i.NOT_WORDPRESS_BLOG})}).then(function(t){var e=t.data;return n.cleanCancelTokenSources(n.getUserBlogInfo),{url:e.url}})];case 1:return e=r.sent(),[2,this.axiosInstance.get(l.USER_BLOG_INFO,{params:{blogUrl:e.url},cancelToken:this.registerCancelTokenSourceForRequest(this.getUserBlogInfo).token}).catch(function(e){return a.__awaiter(n,void 0,void 0,function(){var n,r,o;return a.__generator(this,function(i){switch(i.label){case 0:return n=/(blog|blog\/)$/,this.cleanCancelTokenSources(this.getUserBlogInfo),n.test(t)?(r=t.replace(n,""),[4,this.getUserBlogInfo(r)]):[3,2];case 1:return o=i.sent(),[2,Promise.resolve({data:a.__assign({},o,{correctUrl:{url:r}})})];case 2:return[2,Promise.reject(e)]}})})}).catch(function(){var n={sourceUrl:e?e.url:t};return Promise.reject(a.__assign({},n,{error:i.UNKNOWN_ERROR}))}).then(function(r){var o=r.data;return a.__awaiter(n,void 0,void 0,function(){var n,r;return a.__generator(this,function(u){if(this.cleanCancelTokenSources(this.getUserBlogInfo),o.error){if(n={sourceUrl:e?e.url:t},r=new URL(n.sourceUrl),r.pathname.search("blog")>=0)return[2,this.getUserBlogInfo(r.origin)];if(o.error)switch(o.error.code){case s.UNAUTHORIZED:return[2,Promise.reject(a.__assign({},n,{error:i.REST_API_UNAVAILABLE}))];case s.NOT_BLOG:return[2,Promise.reject(a.__assign({},n,{error:i.NOT_WORDPRESS_BLOG}))];case s.FORBIDDEN:return[2,Promise.reject(a.__assign({},n,{error:i.COMBINED_ERROR}))];default:return[2,Promise.reject(a.__assign({},n,{error:i.UNKNOWN_ERROR}))]}}return[2,a.__assign({},o,{correctUrl:{url:o.correctUrl&&o.correctUrl.url||e.url}})]})})})]}})})},t.prototype.resolveMetaSiteId=function(t){return this.axiosInstanceFrontend.get(l.RESOLVE_META_SITE_ID,{params:{url:t}}).then(function(t){return t.data})},t.prototype.migrationTaskAcknowledgement=function(t){return this.axiosInstance.post(l.migrationTaskAcknowledgment(t)).then(function(t){return t.data})},t.prototype.getUserSites=function(){return this.axiosInstanceFrontend.get(l.USER_SITES).then(function(t){return t.data.sites})},t.prototype.getMigrationTasksByMetaSiteId=function(t){return this.axiosInstance.get(l.MIGRATION_TASKS,{params:{metaSiteId:t}}).then(function(t){return t.data.tasks})},t.prototype.getMigrationTasksByUserId=function(t,e){return this.axiosInstance.get(l.MIGRATION_TASKS,{params:{userId:t},headers:{Cookie:e}}).then(function(t){return t.data.tasks})},t.prototype.startRollbackTask=function(t){return this.axiosInstance.post(l.startRollback(t),{migrationId:t}).then(function(t){return t.data.rollbackId})},t.prototype.getRollbackTasksByUserId=function(t,e){return this.axiosInstance.get(l.getRollbackTasks(),{params:{userId:t},headers:{Cookie:e}}).then(function(t){return t.data.tasks})},t.prototype.getRollbackTasksByMetaSiteId=function(t){return this.axiosInstance.get(l.getRollbackTasks(),{params:{metaSiteId:t}}).then(function(t){return t.data.tasks})},t.prototype.getRollBackTaskStatus=function(t){return this.axiosInstance.get(l.getRollbackTask(t)).then(function(t){return t.data})},t.prototype.getRollBackTaskStatusByMigrationId=function(t){return this.axiosInstance.get(l.getRollbackTasks(),{params:{migrationId:t}}).then(function(t){var e=t.data;return{task:e&&e.tasks&&e.tasks[0]}})},t.prototype.getCustomMigrationTasksByMetaSiteId=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.getMigrationTasksByMetaSiteId(t)];case 1:return(e=r.sent()).length?[4,f.getCustomMigrationTaskStatus(e[0].taskId)]:[3,3];case 2:n=r.sent().task,e[0]=n,r.label=3;case 3:return[2,e]}})})},t.prototype.provideCancellingStatusForTask=function(t){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return e=t.isCancelling,t.steps[0].state!==f.MIGRATION_STATUS.CANCELLED?[3,2]:[4,f.getRollBackTaskStatusByMigrationId(t.taskId)];case 1:return n.sent().task.steps[0].state!==f.MIGRATION_STATUS.COMPLETED&&(t.steps[0].state=f.MIGRATION_STATUS.CANCELLING),[3,3];case 2:e&&(t.steps[0].state=f.MIGRATION_STATUS.CANCELLING),n.label=3;case 3:return[2]}})})},t.prototype.waitForStartCancelTask=function(t,e){return void 0===e&&(e=1e3),a.__awaiter(this,void 0,void 0,function(){var n,r,o,i,s;return a.__generator(this,function(a){switch(a.label){case 0:return[4,this.cancelMigration(t)];case 1:a.sent(),n=f.MIGRATION_STATUS,r=n.CANCELLED,o=n.CANCELLING,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,this.getCustomMigrationTaskStatus(t)];case 3:if(i=a.sent(),s=i.task.steps[0].state,-1!==[o,r].indexOf(s))return[2,i];throw new Error("Wait for start cancelling");case 4:return a.sent(),e>0?[4,function(t){return void 0===t&&(t=0),new Promise(function(e){return setTimeout(e,t)})}(e)]:[3,6];case 5:a.sent(),a.label=6;case 6:return i=null,[3,7];case 7:if(i)return[3,2];a.label=8;case 8:return[2]}})})},t.prototype.getCustomMigrationTaskStatus=function(t){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return[4,this.checkMigrationTaskStatus(t)];case 1:return e=n.sent().task,[4,this.provideCancellingStatusForTask(e)];case 2:return n.sent(),[2,{task:e}]}})})},t.prototype.getBlogPosts=function(t){return this.axiosInstance.get(l.BLOG_POSTS,{url:t}).then(function(t){return t.data.posts})},t.prototype.getTemplates=function(t){return this.axiosInstance.get(l.getTemplatesByCategory(t),{params:{page:1}}).then(function(t){return t.data})},t.prototype.getCategories=function(){return this.axiosInstance.get(l.CATEGORIES).then(function(t){return t.data})},t.prototype.getFailures=function(t,e,n){return void 0===e&&(e=10),void 0===n&&(n=0),this.axiosInstance.get(l.getFailures(t),{params:{limit:e,offset:n}}).then(function(t){return t.data.failures})},t.prototype.getFailedPostsList=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.getFailures(t,e,n)];case 1:return[2,r.sent().map(function(t){return t.failedPost})]}})})},t}()),p={myAccount:"my-account",blog:"blog",blogImporter:"blog-importer"},d={MANAGE_BACK_OFFICE:{scope:p.myAccount,action:"manage-back-office"},ADMIN:{scope:p.blog,action:"admin"},MANAGE:{scope:p.blogImporter,action:"manage"}};function g(t,e,n){return n?function(t){return t.permissions.includes(d.MANAGE.scope+"."+d.MANAGE.action)}(t.sitePermissions[e]):function(t){return t.isOwner||t.permissions.includes(d.MANAGE_BACK_OFFICE.scope+"."+d.MANAGE_BACK_OFFICE.action)||t.permissions.includes(d.ADMIN.scope+"."+d.ADMIN.action)||t.permissions.includes(d.MANAGE.scope+"."+d.MANAGE.action)}(t.sitePermissions[e])}n.d(e,"api",function(){return f}),n.d(e,"MigrationStatStage",function(){return o}),n.d(e,"MigrationStepStatus",function(){return r}),n.d(e,"SCOPES",function(){return p}),n.d(e,"PERMISSIONS",function(){return d}),n.d(e,"permissionToImport",function(){return g})},36:function(t,e,n){"use strict";(function(e){var r=n(8),o=n(73),i={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(48):void 0!==e&&(t=n(48)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(i)}),t.exports=a}).call(this,n(55))},37:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.FAILED="Failed",t.COMPLETED="Completed",t.PENDING="Pending",t.RUNNING="Running",t.CANCELLED="Cancelled",t.CANCELLING="Cancelling",t.ACKNOWLEDGED="Acknowledged"}(e.MigrationStepStatus||(e.MigrationStepStatus={})),function(t){t.LOADING="loading",t.PUBLISHING="publishing",t.CONVERSION="conversion",t.IMPORTING="importing"}(e.MigrationStatStage||(e.MigrationStatStage={})),function(t){t.EMPTY_BLOG="EMPTY_BLOG",t.REST_API_UNAVAILABLE="REST_API_UNAVAILABLE",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_WORDPRESS_BLOG="NOT_WORDPRESS_BLOG",t.COMBINED_ERROR="COMBINED_ERROR"}(e.BLOG_INFO_ERRORS||(e.BLOG_INFO_ERRORS={})),function(t){t.NOT_BLOG="NOT_BLOG",t.UNAUTHORIZED="UNAUTHORIZED",t.FORBIDDEN="FORBIDDEN",t.UNKNOWN="UNKNOWN"}(e.BLOG_INFO_SERVER_ERROR_CODES||(e.BLOG_INFO_SERVER_ERROR_CODES={}))},39:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MODAL=void 0,function(t){t.BLOG_INFO_REST_API_BLOCKED_ERROR="BLOG_INFO_REST_API_BLOCKED_ERROR",t.BLOG_INFO_CONTACT_SUPPORT="BLOG_INFO_CONTACT_SUPPORT",t.BLOG_INFO_EMPTY_BLOG_ERROR="BLOG_INFO_EMPTY_BLOG_ERROR",t.BLOG_INFO_GENERIC_ERROR="BLOG_INFO_GENERIC_ERROR",t.BLOG_INFO_REST_API_DISABLED_ERROR="BLOG_INFO_REST_API_DISABLED_ERROR",t.BLOG_INFO_WIX_BLOG_ERROR="BLOG_INFO_WIX_BLOG_ERROR",t.FAILED_POSTS="FAILED_POSTS",t.ERROR="ERROR",t.ERROR_LIMIT_REACHED="ERROR_LIMIT_REACHED",t.SUCCESS_MIGRATION="SUCCESS_MIGRATION",t.SUCCESS_MIGRATION_WITH_FAILED_POSTS="SUCCESS_MIGRATION_WITH_FAILED_POSTS",t.CONTACT_SUPPORT="CONTACT_SUPPORT",t.IMPORT_RESULTS_NEW_USER="IMPORT_RESULTS_NEW_USER",t.IMPORT_PROGRESS="IMPORT_PROGRESS",t.CONFIRM_SITE="CONFIRM_SITE",t.BLOG_URL="BLOG_URL",t.GREETING="GREETING",t.CONFIRM_CANCEL_MIGRATION="CONFIRM_CANCEL_MIGRATION",t.CANCEL_PROGRESS="CANCEL_PROGRESS",t.IMPORT_HISTORY="IMPORT_HISTORY",t.CONFIRM_ROLLBACK_MIGRATION="CONFIRM_ROLLBACK_MIGRATION",t.ROLLBACK_PROGRESS="ROLLBACK_PROGRESS"}(e.MODAL||(e.MODAL={}))},40:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"c",function(){return u});var r="specs.blogImporter.AllowImportCancellationInBM",o="specs.blogImporter.ShowCancellationProgressInBM",i="specs.blogImporter.NewErrorHandling",s="specs.blogImporter.AllowSecondImportBM",a="specs.blogImporter.WixBlogErrorBM",u="specs.blogImporter.HideImportButtonIfUserHasNotPermissionInBM"},47:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},48:function(t,e,n){"use strict";var r=n(8),o=n(74),i=n(76),s=n(77),a=n(78),u=n(49);t.exports=function(t){return new Promise(function(e,c){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+btoa(d+":"+g)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,c,r),p=null}},p.onerror=function(){c(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var h=n(79),y=(t.withCredentials||a(t.url))&&t.xsrfCookieName?h.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),c(t),p=null)}),void 0===l&&(l=null),p.send(l)})}},49:function(t,e,n){"use strict";var r=n(75);t.exports=function(t,e,n,o,i){var s=new Error(t);return r(s,e,n,o,i)}},50:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},51:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},53:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openUrlInNewTab=e.hasDomain=e.isPremiumSite=e.getFailedPostFromStats=e.delay=e.isUrl=void 0,e.isUrl=function(t){var e=new RegExp(/([a-zA-Z0-9]+\.[^\s]{2,})/gi);return!!t.match(e)},e.delay=function(t){return void 0===t&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})},e.getFailedPostFromStats=function(t){void 0===t&&(t={});var e=[];for(var n in t){var r=t[n].failedPosts||[];e.push.apply(e,r.map(function(t){var e=t.url,n=t.title;return{title:void 0===n?e:n,url:e}}))}return e},e.isPremiumSite=function(t){return!(!t||!t.payload||"FREE"===t.payload.premiumState)},e.hasDomain=function(t,e){var n=e.find(function(e){return e.id===t});return!!n&&-1!==n.premiumFeatures.indexOf("HasDomain")},e.openUrlInNewTab=function(t){var e=document.createElement("a");e.href=t,e.target="_blank",e.rel="noopener",e.click()}},55:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new g(t,e)),1!==c.length||l||a(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},56:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(26),i=n(65),s=n(87),a=n(37);var u=function(){function t(){var t=this;this.LOCAL_DOMAIN="http://local.wix.com:3000",this.WIX_DOMAIN="https://www.wix.com",this.FRONTEND_URL=this.WIX_DOMAIN+"/blog-importer-proxy/frontend-api",this.BASE_URL=this.WIX_DOMAIN+"/_api/blog-importer-service-web",this.cancelTokens=new Map,this.MIGRATION_STATUS={FAILED:"Failed",COMPLETED:"Completed",PENDING:"Pending",RUNNING:"Running",CANCELLED:"Cancelled",CANCELLING:"Cancelling",ACKNOWLEDGED:"Acknowledged"},this.axiosInstanceFrontend=o.default.create({baseURL:this.FRONTEND_URL}),this.axiosInstance=o.default.create({baseURL:this.BASE_URL}),this.axiosBMInstance=o.default.create({baseURL:this.WIX_DOMAIN+"/_api"}),this.getSnapshot=function(e){var n={url:e},s={cancelToken:t.registerCancelTokenSourceForRequest(t.getSnapshot).token,timeout:2e4};return o.default.get(i.ENDPOINTS.SNAPSHOT_URL,r.__assign({params:n},s)).then(function(e){var n=e.data;return t.cleanCancelTokenSources(t.getSnapshot),{snapshot:function(t){if("string"==typeof t)return t;var e=new Uint8Array(t),n=new Blob([e],{type:"image/jpeg"});return(window.URL||window.webkitURL).createObjectURL(n)}(n.img.data)}}).catch(function(e){return t.cleanCancelTokenSources(t.getSnapshot),Promise.reject(e)})},this.validateUrlAndGetUserBlogInfo=function(e){return r.__awaiter(t,void 0,void 0,function(){var t,n,o,i,s,u,c,l;return r.__generator(this,function(f){switch(f.label){case 0:return t=e.trim(),n=/^(http:\/\/|https:\/\/)/.test(t),o=null,n?[4,this.getUserBlogInfo(t)]:[3,2];case 1:return c=f.sent(),[2,r.__assign({},c,{sourceUrl:c.correctUrl.url})];case 2:i=0,s=["https://"+t,"http://"+t],f.label=3;case 3:if(!(i<s.length))return[3,8];u=s[i],f.label=4;case 4:return f.trys.push([4,6,,7]),[4,this.getUserBlogInfo(u)];case 5:return c=f.sent(),[2,r.__assign({},c,{sourceUrl:c.correctUrl.url})];case 6:if(l=f.sent(),(o=l).error!==a.BLOG_INFO_ERRORS.NOT_WORDPRESS_BLOG)return[3,8];if(this.isCancel(l))throw l;return[3,7];case 7:return i++,[3,3];case 8:return[2,Promise.reject(o)]}})})};var e=Function("return this")();if(e.__api)return e.__api;e.__api=this}return t.prototype.getCancelTokenSourcesForRequest=function(t){return this.cancelTokens.get(t)||[]},t.prototype.registerCancelTokenSourceForRequest=function(t){var e=this.getCancelTokenSourcesForRequest(t),n=o.default.CancelToken.source();return e.push(n),this.cancelTokens.set(t,e),n},t.prototype.cleanCancelTokenSources=function(t,e){if(void 0===e&&(e=null),e){var n=this.getCancelTokenSourcesForRequest(t),r=n.indexOf(e);if(-1!==r)return n.splice(1,r),void this.cancelTokens.set(t,n)}this.cancelTokens.set(t,[])},t.prototype.cancelRequest=function(t){var e=this.getCancelTokenSourcesForRequest(t),n=e.length;return e.forEach(function(t){return t.cancel("canceled")}),n},t.prototype.isCancel=function(t){return o.default.isCancel(t)},t.prototype.contactSupport=function(t){return this.axiosInstanceFrontend.post(i.ENDPOINTS.CONTACT_SUPPORT,{message:t.message,blogUrl:t.blogUrl||"No blog url provided from API.",taskId:t.taskId}).then(function(t){return t.data})},t.prototype.isPremium=function(t){return this.axiosBMInstance.get(i.ENDPOINTS.IS_PREMIUM,{params:{metaSiteId:t}})},t.prototype.checkMigrationTaskStatus=function(t){return this.axiosInstance.get(i.ENDPOINTS.getMigrationTaskInfo(t)).then(function(t){return t.data})},t.prototype.validateMigrationTask=function(t,e){return this.axiosInstance.get(i.ENDPOINTS.MIGRATION_TASKS_VALIDATE,{params:{blogUrl:t,wixInstance:e}}).then(function(t){return t.data})},t.prototype.createMigrationTask=function(t){var e=t.blogUrl,n=t.wixInstance,r=t.userId,o=t.siteId,s=t.metaSiteId,a=t.cleanDestination,u=void 0!==a&&a;return this.axiosInstance.post(i.ENDPOINTS.CREATE_MIGRATION_TASK,{migration:{source:{blogUrl:e},destination:{userId:r,siteId:o,metaSiteId:s,wixInstance:n},options:{cleanDestination:u}}}).then(function(t){return t.data.taskId})},t.prototype.getUserPermissionsByMetaSiteId=function(t,e){return this.axiosInstanceFrontend.get(i.ENDPOINTS.USER_PERMISSIONS_BY_META_SITE_ID,{params:{metaSiteId:t,hideButtonIfUserHasNotPermissions:e}}).then(function(t){return t.data})},t.prototype.cancelMigration=function(t){return this.axiosInstance.post(i.ENDPOINTS.cancelMigration(t)).then(function(t){return t.data})},t.prototype.getUserBlogInfo=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(o){switch(o.label){case 0:return[4,this.axiosInstanceFrontend.get(i.ENDPOINTS.VALIDATE_URL,{params:{blogUrl:t},cancelToken:this.registerCancelTokenSourceForRequest(this.getUserBlogInfo).token}).catch(function(e){return n.cleanCancelTokenSources(n.getUserBlogInfo),n.isCancel(e)?Promise.reject(e):Promise.reject({sourceUrl:t,error:a.BLOG_INFO_ERRORS.NOT_WORDPRESS_BLOG})}).then(function(t){var e=t.data;return n.cleanCancelTokenSources(n.getUserBlogInfo),{url:e.url}})];case 1:return e=o.sent(),[2,this.axiosInstance.get(i.ENDPOINTS.USER_BLOG_INFO,{params:{blogUrl:e.url},cancelToken:this.registerCancelTokenSourceForRequest(this.getUserBlogInfo).token}).catch(function(e){return r.__awaiter(n,void 0,void 0,function(){var n,o,i;return r.__generator(this,function(s){switch(s.label){case 0:return n=/(blog|blog\/)$/,this.cleanCancelTokenSources(this.getUserBlogInfo),n.test(t)?(o=t.replace(n,""),[4,this.getUserBlogInfo(o)]):[3,2];case 1:return i=s.sent(),[2,Promise.resolve({data:r.__assign({},i,{correctUrl:{url:o}})})];case 2:return[2,Promise.reject(e)]}})})}).catch(function(){var n={sourceUrl:e?e.url:t};return Promise.reject(r.__assign({},n,{error:a.BLOG_INFO_ERRORS.UNKNOWN_ERROR}))}).then(function(o){var i=o.data;return r.__awaiter(n,void 0,void 0,function(){var n,o;return r.__generator(this,function(s){if(this.cleanCancelTokenSources(this.getUserBlogInfo),i.error){if(n={sourceUrl:e?e.url:t},o=new URL(n.sourceUrl),o.pathname.search("blog")>=0)return[2,this.getUserBlogInfo(o.origin)];if(i.error)switch(i.error.code){case a.BLOG_INFO_SERVER_ERROR_CODES.UNAUTHORIZED:return[2,Promise.reject(r.__assign({},n,{error:a.BLOG_INFO_ERRORS.REST_API_UNAVAILABLE}))];case a.BLOG_INFO_SERVER_ERROR_CODES.NOT_BLOG:return[2,Promise.reject(r.__assign({},n,{error:a.BLOG_INFO_ERRORS.NOT_WORDPRESS_BLOG}))];case a.BLOG_INFO_SERVER_ERROR_CODES.FORBIDDEN:return[2,Promise.reject(r.__assign({},n,{error:a.BLOG_INFO_ERRORS.COMBINED_ERROR}))];default:return[2,Promise.reject(r.__assign({},n,{error:a.BLOG_INFO_ERRORS.UNKNOWN_ERROR}))]}}return[2,r.__assign({},i,{correctUrl:{url:i.correctUrl&&i.correctUrl.url||e.url}})]})})})]}})})},t.prototype.resolveMetaSiteId=function(t){return this.axiosInstanceFrontend.get(i.ENDPOINTS.RESOLVE_META_SITE_ID,{params:{url:t}}).then(function(t){return t.data})},t.prototype.migrationTaskAcknowledgement=function(t){return this.axiosInstance.post(i.ENDPOINTS.migrationTaskAcknowledgment(t)).then(function(t){return t.data})},t.prototype.getUserSites=function(){return this.axiosInstanceFrontend.get(i.ENDPOINTS.USER_SITES).then(function(t){return t.data.sites})},t.prototype.getMigrationTasksByMetaSiteId=function(t){return this.axiosInstance.get(i.ENDPOINTS.MIGRATION_TASKS,{params:{metaSiteId:t}}).then(function(t){return t.data.tasks})},t.prototype.getMigrationTasksByUserId=function(t,e){return this.axiosInstance.get(i.ENDPOINTS.MIGRATION_TASKS,{params:{userId:t},headers:{Cookie:e}}).then(function(t){return t.data.tasks})},t.prototype.startRollbackTask=function(t){return this.axiosInstance.post(i.ENDPOINTS.startRollback(t),{migrationId:t}).then(function(t){return t.data.rollbackId})},t.prototype.getRollbackTasksByUserId=function(t,e){return this.axiosInstance.get(i.ENDPOINTS.getRollbackTasks(),{params:{userId:t},headers:{Cookie:e}}).then(function(t){return t.data.tasks})},t.prototype.getRollbackTasksByMetaSiteId=function(t){return this.axiosInstance.get(i.ENDPOINTS.getRollbackTasks(),{params:{metaSiteId:t}}).then(function(t){return t.data.tasks})},t.prototype.getRollBackTaskStatus=function(t){return this.axiosInstance.get(i.ENDPOINTS.getRollbackTask(t)).then(function(t){return t.data})},t.prototype.getRollBackTaskStatusByMigrationId=function(t){return this.axiosInstance.get(i.ENDPOINTS.getRollbackTasks(),{params:{migrationId:t}}).then(function(t){var e=t.data;return{task:e&&e.tasks&&e.tasks[0]}})},t.prototype.getCustomMigrationTasksByMetaSiteId=function(t){return r.__awaiter(this,void 0,void 0,function(){var n,o;return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.getMigrationTasksByMetaSiteId(t)];case 1:return(n=r.sent()).length?[4,e.api.getCustomMigrationTaskStatus(n[0].taskId)]:[3,3];case 2:o=r.sent().task,n[0]=o,r.label=3;case 3:return[2,n]}})})},t.prototype.provideCancellingStatusForTask=function(t){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:return n=t.isCancelling,t.steps[0].state!==e.api.MIGRATION_STATUS.CANCELLED?[3,2]:[4,e.api.getRollBackTaskStatusByMigrationId(t.taskId)];case 1:return r.sent().task.steps[0].state!==e.api.MIGRATION_STATUS.COMPLETED&&(t.steps[0].state=e.api.MIGRATION_STATUS.CANCELLING),[3,3];case 2:n&&(t.steps[0].state=e.api.MIGRATION_STATUS.CANCELLING),r.label=3;case 3:return[2]}})})},t.prototype.waitForStartCancelTask=function(t,n){return void 0===n&&(n=1e3),r.__awaiter(this,void 0,void 0,function(){var o,i,a,u,c;return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.cancelMigration(t)];case 1:r.sent(),o=e.api.MIGRATION_STATUS,i=o.CANCELLED,a=o.CANCELLING,r.label=2;case 2:return r.trys.push([2,4,,7]),[4,this.getCustomMigrationTaskStatus(t)];case 3:if(u=r.sent(),c=u.task.steps[0].state,-1!==[a,i].indexOf(c))return[2,u];throw new Error("Wait for start cancelling");case 4:return r.sent(),n>0?[4,s.delay(n)]:[3,6];case 5:r.sent(),r.label=6;case 6:return u=null,[3,7];case 7:if(u)return[3,2];r.label=8;case 8:return[2]}})})},t.prototype.getCustomMigrationTaskStatus=function(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return[4,this.checkMigrationTaskStatus(t)];case 1:return e=n.sent().task,[4,this.provideCancellingStatusForTask(e)];case 2:return n.sent(),[2,{task:e}]}})})},t.prototype.getBlogPosts=function(t){return this.axiosInstance.get(i.ENDPOINTS.BLOG_POSTS,{url:t}).then(function(t){return t.data.posts})},t.prototype.getTemplates=function(t){return this.axiosInstance.get(i.ENDPOINTS.getTemplatesByCategory(t),{params:{page:1}}).then(function(t){return t.data})},t.prototype.getCategories=function(){return this.axiosInstance.get(i.ENDPOINTS.CATEGORIES).then(function(t){return t.data})},t.prototype.getFailures=function(t,e,n){return void 0===e&&(e=10),void 0===n&&(n=0),this.axiosInstance.get(i.ENDPOINTS.getFailures(t),{params:{limit:e,offset:n}}).then(function(t){return t.data.failures})},t.prototype.getFailedPostsList=function(t,e,n){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.getFailures(t,e,n)];case 1:return[2,r.sent().map(function(t){return t.failedPost})]}})})},t}();e.API=u,e.api=new u},6:function(t,e){t.exports=reactModuleContainer},64:function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},65:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ENDPOINTS={getFailures:function(t){return"migration-tasks/"+t+"/failures"},getTemplatesByCategory:function(t){return"/template-categories/"+t+"/templates"},getMigrationTaskInfo:function(t){return"/migration-tasks/"+t},getRollbackTask:function(t){return"/rollback-tasks/"+t},getRollbackTasks:function(){return"/rollback-tasks"},migrationTaskAcknowledgment:function(t){return"/migration-tasks/"+t+"/ack"},cancelMigration:function(t){return e.ENDPOINTS.MIGRATION_TASKS+"/"+t+"/cancel"},startRollback:function(t){return"/migration-tasks/"+t+"/rollback"},ROLLBACK_TASKS:"/rollback-tasks",CREATE_MIGRATION_TASK:"/migration-tasks",MIGRATION_TASKS_VALIDATE:"/migration-task-validate",MIGRATION_TASKS:"/migration-tasks",BLOG_POSTS:"/wp-posts",CATEGORIES:"/template-categories",USER_SITES:"/sites",RESOLVE_META_SITE_ID:"/resolve-meta-site-id",USER_PERMISSIONS_BY_META_SITE_ID:"/get-user-permission",USER_BLOG_INFO:"/wp-blog",VALIDATE_URL:"/validate-url",CONTACT_SUPPORT:"/create-ticket",SNAPSHOT_URL:"https://www.wix.com/_api/blog-importer-screenshooter/snapshot",DELETE_SITE:"/delete",IS_PREMIUM:"/premium-store/plans/premiumStatus"}},680:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(22),i=n(6),s=n(20),a=n(33),u=n(113),c=n(17),l=n(39),f=n(53),p=null;function d(t,e){var n=t.task,i=t.i18n;return void 0===e&&(e={showCancelMigrationProgress:!1}),p&&(p.remove(),p=null),n.steps[0].state===a.api.MIGRATION_STATUS.ACKNOWLEDGED?null:p=Object(o.showToast)(r.__assign({biName:"blogImporter.migrationFinished",timeout:o.ToastTimeout.NONE},function(t,e,n){var r=t.steps[0].state;if(r===a.api.MIGRATION_STATUS.CANCELLED)return a.api.migrationTaskAcknowledgement(t.taskId).catch(function(t){console.error(t)}),{type:o.ToastType.SUCCESS,message:e.t("toast.notification.cancel.success"),timeout:o.ToastTimeout.NORMAL};if(r===a.api.MIGRATION_STATUS.FAILED)return a.api.migrationTaskAcknowledgement(t.taskId).catch(function(t){console.error(t)}),{type:o.ToastType.ERROR,message:e.t("toast.notification.error.text"),action:{text:e.t("toast.notification.error.action"),uiType:o.ToastActionUiType.LINK,onClick:function(){Object(c.e)({currentModal:l.MODAL.BLOG_URL,url:t.migration.source.blogUrl})}}};if(r===a.api.MIGRATION_STATUS.COMPLETED)return a.api.migrationTaskAcknowledgement(t.taskId).catch(function(t){console.error(t)}),t.failedPosts?{message:e.t("toast.notification.failed-posts.text",{totalPosts:t.totalPosts,failedPosts:t.failedPosts,successPosts:t.totalPosts-t.failedPosts}),type:o.ToastType.WARNING,action:{text:e.t("toast.notification.failed-posts.action"),uiType:o.ToastActionUiType.LINK,onClick:function(){Object(c.e)({currentModal:l.MODAL.FAILED_POSTS,failedPostsInfo:Object(f.getFailedPostFromStats)(t.stats),url:t.migration.source.blogUrl})}}}:{type:o.ToastType.SUCCESS,timeout:o.ToastTimeout.NORMAL,message:e.t("toast.notification.success.text")};var i=Object(u.migrationStatusWatcher)({taskId:t.taskId,onFinish:function(n){d({task:n.task,i18n:e}),Object(c.g)(n.task),Object(c.b)(t)}});if(r===a.api.MIGRATION_STATUS.CANCELLING){var s=void 0;return n.showCancelMigrationProgress&&(s={text:e.t("toast.notification.cancel.in-progress.status"),uiType:o.ToastActionUiType.LINK,onClick:function(){i.stopWatch(),Object(c.e)({currentModal:l.MODAL.CANCEL_PROGRESS,totalPosts:t.totalPosts,taskId:t.taskId,url:t.migration.source.blogUrl})}}),{type:o.ToastType.STANDARD,message:e.t("toast.notification.cancel.in-progress"),timeout:o.ToastTimeout.NONE,action:s}}return{message:e.t("toast.notification.progress.text"),action:{text:e.t("toast.notification.progress.action"),uiType:o.ToastActionUiType.LINK,onClick:function(){i.stopWatch(),Object(c.e)({currentModal:l.MODAL.IMPORT_PROGRESS,totalPosts:t.totalPosts,taskId:t.taskId,url:t.migration.source.blogUrl})}}}}(n,i,e)))}var g=n(115),h=n(252),y=g.createInstance();var m=n(102),v=n(19),O=n(24);var I=n(253),_=n.n(I),S=n(40),T=new _.a({scope:"blog-importer-client"});function b(t){var e=t.config.topology;return e.blogImporterStaticsUrl||e.staticsUrl}var R=T.ready(),E=function(t){var e=function(t){return t?"":".min"},n=b(t);return[n+"blog-importer-business-manager-app.bundle"+e(t.debug)+".js",n+"blog-importer-business-manager-app"+e(t.debug)+".css"]},N=function(t){function e(e){console.info("[Blog importer]: initialized with props",e);var n={files:E(e),component:s.f};return t.call(this,e,n)||this}return r.__extends(e,t),e}(i.ReactLazyComponent),A=function(t){function e(e){console.info("[Import button]: initialized with props",e);var n={files:E(e),component:s.b};return t.call(this,e,n)||this}return r.__extends(e,t),e.prefetch=function(t){return E(t)},e}(i.ReactLazyComponent),w=function(t){function e(e){console.info("[Import button]: initialized with props",e);var n={files:E(e),component:s.d};return t.call(this,e,n)||this}return r.__extends(e,t),e.prefetch=function(t){return E(t)},e}(i.ReactLazyComponent),P=null,k=function(t){function e(e){var n=t.call(this,e)||this;return Object(o.getModule)(o.ModuleId.SocialBlog)&&n.setModuleConfigurationId(o.ModuleId.SocialBlog),n.registerComponentWithModuleParams(s.g,N),n.registerComponentWithModuleParams(s.c,A),n.registerComponentWithModuleParams(s.e,w),n}return r.__extends(e,t),e.prototype.init=function(t){var e=this,n=!1;i.ModuleRegistry.registerMethod("blogImporterBusinessModule.getExperimentsPromise",function(){return function(){return R}}),i.ModuleRegistry.registerMethod("blogImporterBusinessModule.getExperiment",function(){return function(t){return T.enabled(t)}}),i.ModuleRegistry.registerMethod("blogImporterBusinessModule.showNotification",function(){return function(n){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return null!==P?[3,2]:[4,Promise.all([function(t){var e=t.locale,n=t.baseUrl,r=void 0===n?"":n;return new Promise(function(t,n){y.use(h).init({lng:e,fallbackLng:"en",keySeparator:"$",interpolation:{escapeValue:!1},backend:{loadPath:r+"assets/locale/messages_{{lng}}.json",crossDomain:!0}},function(e){e?n(e):t(y)})})}({locale:t.accountLanguage,baseUrl:b(t)}),Object(c.d)()])];case 1:P=e.sent()[0],e.label=2;case 2:return d({task:n,i18n:P},{showCancelMigrationProgress:Object(c.c)(S.e)}),[2]}})})}}),i.ModuleRegistry.registerMethod("blogImporterBusinessModule.updateImportButtonState",function(){return function(t){Object(c.a)(function(t){var e=t.task,n=void 0===e?null:e,r=t.hasPermission,o=void 0!==r&&r,i=t.experiments||{},s=i.allowSecondImport,a=void 0!==s&&s,u=i.hideButtonIfUserHasNotPermissions;if(!o)return{state:void 0!==u&&u?O.IMPORT_BUTTON_STATE.HIDDEN:O.IMPORT_BUTTON_STATE.DISABLED,tooltipMessage:O.IMPORT_BUTTON_TOOLTIP.NOT_OWNER};if(!n)return{state:O.IMPORT_BUTTON_STATE.REGULAR,tooltipMessage:O.IMPORT_BUTTON_TOOLTIP.REGULAR};var c=v.api.MIGRATION_STATUS.ACKNOWLEDGED===n.steps[0].state?n.steps[1].state:n.steps[0].state;return v.api.MIGRATION_STATUS.PENDING===c||v.api.MIGRATION_STATUS.RUNNING===c?{state:O.IMPORT_BUTTON_STATE.DISABLED,tooltipMessage:O.IMPORT_BUTTON_TOOLTIP.IN_PROGRESS}:v.api.MIGRATION_STATUS.CANCELLING===c?{state:O.IMPORT_BUTTON_STATE.DISABLED,tooltipMessage:O.IMPORT_BUTTON_TOOLTIP.CANCELLING}:v.api.MIGRATION_STATUS.COMPLETED===c?a?{state:O.IMPORT_BUTTON_STATE.REGULAR,tooltipMessage:O.IMPORT_BUTTON_TOOLTIP.REGULAR}:{state:O.IMPORT_BUTTON_STATE.DISABLED,tooltipMessage:O.IMPORT_BUTTON_TOOLTIP.ALREADY_IMPORTED}:{state:O.IMPORT_BUTTON_STATE.REGULAR,tooltipMessage:O.IMPORT_BUTTON_TOOLTIP.REGULAR}}({hasPermission:n,task:t,experiments:{allowSecondImport:Object(c.c)(S.b),hideButtonIfUserHasNotPermissions:Object(c.c)(S.c)}}))}}),i.ModuleRegistry.registerMethod("blogImporterBusinessModule.init",function(){return function(){return r.__awaiter(e,void 0,void 0,function(){var e,o,i,s,u,f,p,d,g,h;return r.__generator(this,function(r){switch(r.label){case 0:return A.prefetch(t),e=Object(m.a)(window.location.search),o="new-user"===e.blogImporter,i=Object(c.c)(S.c),o&&Object(c.e)({currentModal:l.MODAL.IMPORT_RESULTS_NEW_USER}),s=t.metaSiteId,g=(d=Promise).all,[4,a.api.getCustomMigrationTasksByMetaSiteId(s)];case 1:return h=[r.sent()],[4,a.api.getUserPermissionsByMetaSiteId(s,i)];case 2:return[4,g.apply(d,[h.concat([r.sent(),R])])];case 3:return u=r.sent(),f=u[0],p=u[1],n=Object(v.permissionToImport)(p,s,i),Object(c.g)(f[0]),f.length&&Object(c.f)(f[0]),[2]}})})}})},e}(o.BusinessManagerModule);Object(o.registerModule)(s.h,k)},71:function(t,e,n){"use strict";var r=n(8),o=n(47),i=n(72),s=n(36);function a(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=a(s);u.Axios=i,u.create=function(t){return a(r.merge(s,t))},u.Cancel=n(51),u.CancelToken=n(85),u.isCancel=n(50),u.all=function(t){return Promise.all(t)},u.spread=n(86),t.exports=u,t.exports.default=u},72:function(t,e,n){"use strict";var r=n(36),o=n(8),i=n(80),s=n(81);function a(t){this.defaults=t,this.interceptors={request:new i,response:new i}}a.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=a},73:function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},74:function(t,e,n){"use strict";var r=n(49);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},75:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},76:function(t,e,n){"use strict";var r=n(8);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))}))}),i=s.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},77:function(t,e,n){"use strict";var r=n(8),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,s={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},78:function(t,e,n){"use strict";var r=n(8);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},79:function(t,e,n){"use strict";var r=n(8);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8:function(t,e,n){"use strict";var r=n(47),o=n(64),i=Object.prototype.toString;function s(t){return"[object Array]"===i.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},80:function(t,e,n){"use strict";var r=n(8);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},81:function(t,e,n){"use strict";var r=n(8),o=n(82),i=n(50),s=n(36),a=n(83),u=n(84);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},82:function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},83:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},84:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},85:function(t,e,n){"use strict";var r=n(51);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},86:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},87:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=function(t){return void 0===t&&(t=0),new Promise(function(e){return setTimeout(e,t)})}},88:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SCOPES={myAccount:"my-account",blog:"blog",blogImporter:"blog-importer"},e.PERMISSIONS={MANAGE_BACK_OFFICE:{scope:e.SCOPES.myAccount,action:"manage-back-office"},ADMIN:{scope:e.SCOPES.blog,action:"admin"},MANAGE:{scope:e.SCOPES.blogImporter,action:"manage"}},e.permissionToImport=function(t,n,r){return r?function(t){return t.permissions.includes(e.PERMISSIONS.MANAGE.scope+"."+e.PERMISSIONS.MANAGE.action)}(t.sitePermissions[n]):function(t){return t.isOwner||t.permissions.includes(e.PERMISSIONS.MANAGE_BACK_OFFICE.scope+"."+e.PERMISSIONS.MANAGE_BACK_OFFICE.action)||t.permissions.includes(e.PERMISSIONS.ADMIN.scope+"."+e.PERMISSIONS.ADMIN.action)||t.permissions.includes(e.PERMISSIONS.MANAGE.scope+"."+e.PERMISSIONS.MANAGE.action)}(t.sitePermissions[n])}}});
//# sourceMappingURL=blog-importer-business-manager-module.bundle.min.js.map